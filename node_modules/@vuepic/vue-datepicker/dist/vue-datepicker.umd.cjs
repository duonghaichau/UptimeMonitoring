(function(e,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],s):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=s(e.Vue,e.dateFns))})(this,function(e,s){"use strict";const Se=(t,a)=>{const l=t.__vccOpts||t;for(const[n,d]of a)l[n]=d;return l},on={},sn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},cn=[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"},null,-1)];function un(t,a){return e.openBlock(),e.createElementBlock("svg",sn,cn)}const Le=Se(on,[["render",un]]),dn={},mn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},fn=[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"},null,-1),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1)];function pn(t,a){return e.openBlock(),e.createElementBlock("svg",mn,fn)}const yn=Se(dn,[["render",pn]]),hn={},gn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},kn=[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1)];function wn(t,a){return e.openBlock(),e.createElementBlock("svg",gn,kn)}const Dt=Se(hn,[["render",wn]]),bn={},Cn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Mn=[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"},null,-1)];function Sn(t,a){return e.openBlock(),e.createElementBlock("svg",Cn,Mn)}const $t=Se(bn,[["render",Sn]]),Bn={},Dn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},$n=[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"},null,-1),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1)];function Vn(t,a){return e.openBlock(),e.createElementBlock("svg",Dn,$n)}const Vt=Se(Bn,[["render",Vn]]),Nn={},Pn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},An=[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1)];function Tn(t,a){return e.openBlock(),e.createElementBlock("svg",Pn,An)}const Nt=Se(Nn,[["render",Tn]]),En={},Rn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},_n=[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1)];function On(t,a){return e.openBlock(),e.createElementBlock("svg",Rn,_n)}const Pt=Se(En,[["render",On]]),At=(t,a)=>{const l=s.parse(t,a.slice(0,t.length),new Date);return s.isValid(l)&&s.isDate(l)?l:null},et=(t,a)=>{if(typeof a=="string")return At(t,a);if(Array.isArray(a)){let l=null;for(let n=0;n<a.length&&(l=At(t,a[n]),!l);n++);return l}return typeof a=="function"?a(t):null},fe=t=>{let a=new Date(JSON.parse(JSON.stringify(t)));return a=s.setHours(a,0),a=s.setMinutes(a,0),a=s.setSeconds(a,0),a=s.setMilliseconds(a,0),a},tt=t=>Array.isArray(t)?s.isValid(t[0])&&(t[1]?s.isValid(t[1]):!0):t?s.isValid(t):!1,ie=(t,a,l,n)=>{let d=t?new Date(t):new Date;return(a||a===0)&&(d=s.setHours(d,+a)),(l||l===0)&&(d=s.setMinutes(d,+l)),(n||n===0)&&(d=s.setSeconds(d,+n)),s.setMilliseconds(d,0)},In=t=>{const a=s.addMonths(t,1);return{month:s.getMonth(a),year:s.getYear(a)}},Be=(t,a,l)=>{let n=t?new Date(t):new Date;return(a||a===0)&&(n=s.setMonth(n,a)),l&&(n=s.setYear(n,l)),n},Tt=(t,a)=>t?`HH:mm${a?":ss":""}`:`hh:mm${a?":ss":""} aa`,Et=(t,a,l,n,d,p,h,y)=>t||(n?"MM/yyyy":d?Tt(a,l):p?"MM/dd/yyyy":h?"yyyy":y?`MM/dd/yyyy, ${Tt(a,l)}`:"MM/dd/yyyy"),nt=t=>{const a=t||new Date;return{hours:s.getHours(a),minutes:s.getMinutes(a),seconds:s.getSeconds(a)}},je=t=>({month:s.getMonth(t),year:s.getYear(t)}),Rt=t=>Array.isArray(t)?[je(t[0]),t[1]?je(t[1]):null]:je(t),lt=t=>Array.isArray(t)?[nt(t[0]),nt(t[1])]:nt(t),at=(t,a,l)=>l?s.format(t,a,{locale:l}):s.format(t,a),Ae=(t,a,l,n,d)=>Array.isArray(t)?`${at(t[0],a,l)} ${d&&!t[1]?"":n||"-"} ${t[1]?at(t[1],a,l):""}`:at(t,a,l),re=(t,a)=>!t||!a?!1:s.isAfter(fe(t),fe(a)),ae=(t,a)=>!t||!a?!1:s.isBefore(fe(t),fe(a)),x=(t,a)=>!t||!a?!1:s.isEqual(fe(t),fe(a)),Yn=(t,a)=>s.add(s.set(new Date,t),a),Kn=(t,a)=>s.sub(s.set(new Date,t),a),rt=t=>s.set(new Date,{hours:s.getHours(t),minutes:s.getMinutes(t),seconds:s.getSeconds(t)}),_t=t=>s.set(new Date,{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Te=(t,a,l,n)=>{if(!t)return!0;if(n){const d=l==="max"?s.isBefore(t,a):s.isAfter(t,a),p={seconds:0,milliseconds:0};return d||s.isEqual(s.set(t,p),s.set(a,p))}return l==="max"?t.getTime()<=a.getTime():t.getTime()>=a.getTime()},ot=(t,a,l,n,d)=>{let p=!0;if(!t)return!0;const h=!d&&!n?Array.isArray(t)?[t[0]?rt(t[0]):null,t[1]?rt(t[1]):null]:rt(t):t;if(a||n){const y=a?_t(a):new Date(n);Array.isArray(h)?p=Te(h[0],y,"max",!!n)&&Te(h[1],y,"max",!!n):p=Te(h,y,"max",!!n)}if(l||d){const y=l?_t(l):new Date(d);Array.isArray(h)?p=Te(h[0],y,"min",!!d)&&Te(h[1],y,"min",!!d)&&p:p=Te(h,y,"min",!!d)&&p}return p},vn=(t,a,l)=>{let n=!0;return a&&l&&(n=re(new Date(t),new Date(a))&&ae(new Date(t),new Date(l))),a&&(n=re(new Date(t),new Date(a))),l&&(n=ae(new Date(t),new Date(l))),n},pe=t=>t instanceof Date?t:s.parseISO(t),st=(t,a)=>{if(a){const n=new Date().getTimezoneOffset()*6e4;return new Date(t.getTime()-n).toISOString()}const l=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(l).toISOString()},Ot=(t,a,l)=>t&&t[0]&&t[1]?re(l,t[0])&&ae(l,t[1]):t&&t[0]&&a?re(l,t[0])&&ae(l,a)||ae(l,t[0])&&re(l,a):!1,We=(t,a)=>{const l=s.startOfWeek(t,{weekStartsOn:a}),n=s.endOfWeek(t,{weekStartsOn:a});return[l,n]},It=(t,a)=>Array.isArray(a)?a.some(l=>x(pe(new Date(l)),pe(t))):a(t),Hn=(t,a,l,n,d,p,h,y)=>{const k=l?re(pe(t),pe(l)):!1,b=a?ae(pe(t),pe(a)):!1,N=It(t,n),_=(p.months.length?p.months.map(r=>+r):[]).includes(s.getMonth(t)),T=h.length?h.some(r=>+r===s.getDay(t)):!1,v=d.length?!d.some(r=>x(pe(r),pe(t))):!1,$=s.getYear(t),X=$<+y[0]||$>+y[1];return!(k||b||N||_||X||T||v)},Yt=(t,a,l,n,d,p,h)=>({validate:k=>Hn(k,t,a,l,n,d,p,h)}),ge=Symbol(),Ue=Symbol(),it=Symbol(),Kt=Symbol(),vt=Symbol(),ke=Symbol(),ct={disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1}},ut={range:{type:Boolean,default:!1},uid:{type:String,default:null}},Ht={enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1}},zt={...Ht,fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1}},Lt={name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null}},jt={minTime:{type:Object,default:null},maxTime:{type:Object,default:null}},dt={minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null}},Wt={selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},...jt},mt={monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1}},Ut={locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:Boolean,default:!1},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null}},Gt={...zt,...Wt,...mt,...dt,...Ut,...ut,vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},monthYearComponent:{type:Object,default:null},timePickerComponent:{type:Object,default:null},actionRowComponent:{type:Object,default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:()=>[]},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},teleportCenter:{type:Boolean,default:!1}},zn={...Lt,...ct,...Gt,multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},teleport:{type:[String,Object],default:"body"},altPosition:{type:[Boolean,Function],default:!1},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10}},Xt={range:{type:Boolean,default:!1},multiCalendars:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null}},qt={...mt,...Xt,vertical:{type:Boolean,default:!1},month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:1}},Ln=["aria-label","aria-disabled","aria-readonly"],jn={key:1,class:"dp__input_wrap"},Wn=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","onKeydown"],Un={key:2,class:"dp__input_icon"},Gn={key:4,class:"dp__clear_icon"},Xn=e.defineComponent({__name:"DatepickerInput",props:{...Lt,...ct,...ut,inputValue:{type:String,default:""},inline:{type:Boolean,default:!1},isMenuOpen:{type:Boolean,default:!1},pattern:{type:String,default:""}},emits:["clear","open","update:inputValue","setInputDate","close","selectDate","setEmptyDate","toggle","focus-prev","focus","blur"],setup(t,{expose:a,emit:l}){const n=t,d=e.ref(),p=e.ref(null),h=e.ref(!1),y=e.inject(ge),k=e.computed(()=>({dp__pointer:!n.disabled&&!n.readonly&&!n.textInput,dp__disabled:n.disabled,dp__input_readonly:!n.textInput,dp__input:!0,dp__input_icon_pad:!n.hideInputIcon,dp__input_valid:n.state,dp__input_invalid:n.state===!1,dp__input_focus:h.value||n.isMenuOpen,dp__input_reg:!n.textInput,[n.inputClassName]:!!n.inputClassName})),b=c=>{var Y;const{value:R}=c.target,{format:z,rangeSeparator:D}=n.textInputOptions;if(R!==""){if(((Y=n.textInputOptions)==null?void 0:Y.openMenu)&&!n.isMenuOpen&&l("open"),n.range){const[L,q]=R.split(`${D}`);if(L&&q){const U=et(L.trim(),z||n.pattern),H=et(q.trim(),z||n.pattern);d.value=U&&H?[U,H]:null}}else d.value=et(R,z||n.pattern);l("setInputDate",d.value)}else l("setInputDate",null),n.autoApply&&(l("setEmptyDate"),d.value=null);l("update:inputValue",R)},N=()=>{var c,R;((c=n.textInputOptions)==null?void 0:c.enterSubmit)&&tt(d.value)&&n.inputValue!==""?(l("setInputDate",d.value,!0),d.value=null):((R=n.textInputOptions)==null?void 0:R.enterSubmit)&&n.inputValue===""&&(d.value=null,l("clear"))},V=()=>{var c,R;((c=n.textInputOptions)==null?void 0:c.tabSubmit)&&tt(d.value)&&n.inputValue!==""?(l("setInputDate",d.value,!0),d.value=null):((R=n.textInputOptions)==null?void 0:R.tabSubmit)&&n.inputValue===""&&(d.value=null,l("clear"))},_=()=>{h.value=!0,l("focus")},T=c=>{var R;c.preventDefault(),c.stopImmediatePropagation(),c.stopPropagation(),n.textInput&&((R=n.textInputOptions)==null?void 0:R.openMenu)?n.isMenuOpen?n.textInputOptions.enterSubmit&&l("selectDate"):l("open"):n.textInput||l("toggle")},v=()=>{h.value=!1,n.isMenuOpen||l("blur"),n.autoApply&&n.textInput&&d.value&&(l("setInputDate",d.value),l("selectDate"),d.value=null)},$=()=>{l("clear")},X=c=>{n.textInput||c.preventDefault()};return a({focusInput:()=>{p.value&&p.value.focus({preventScroll:!0})}}),(c,R)=>(e.openBlock(),e.createElementBlock("div",{onClick:T,"aria-label":e.unref(y).input,role:"textbox","aria-multiline":"false","aria-disabled":c.disabled,"aria-readonly":c.readonly},[c.$slots.trigger&&!c.$slots["dp-input"]&&!t.inline?e.renderSlot(c.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!c.$slots.trigger&&(!t.inline||c.inlineWithInput)?(e.openBlock(),e.createElementBlock("div",jn,[c.$slots["dp-input"]&&!c.$slots.trigger&&!t.inline?e.renderSlot(c.$slots,"dp-input",{key:0,value:t.inputValue,onInput:b,onEnter:N,onTab:V,onClear:$}):e.createCommentVNode("",!0),c.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,ref_key:"inputRef",ref:p,id:c.uid?`dp-input-${c.uid}`:void 0,name:c.name,class:e.normalizeClass(e.unref(k)),inputmode:c.textInput?"text":"none",placeholder:c.placeholder,disabled:c.disabled,readonly:c.readonly,required:c.required,value:t.inputValue,autocomplete:c.autocomplete,onInput:b,onKeydown:[e.withKeys(T,["enter"]),e.withKeys(V,["tab"])],onBlur:v,onFocus:_,onKeypress:X},null,42,Wn)),c.$slots["input-icon"]&&!c.hideInputIcon?(e.openBlock(),e.createElementBlock("span",Un,[e.renderSlot(c.$slots,"input-icon")])):e.createCommentVNode("",!0),!c.$slots["input-icon"]&&!c.hideInputIcon&&!c.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(Le),{key:3,class:"dp__input_icon dp__input_icons"})):e.createCommentVNode("",!0),c.$slots["clear-icon"]&&t.inputValue&&c.clearable&&!c.disabled&&!c.readonly?(e.openBlock(),e.createElementBlock("span",Gn,[e.renderSlot(c.$slots,"clear-icon",{clear:$})])):e.createCommentVNode("",!0),c.clearable&&!c.$slots["clear-icon"]&&t.inputValue&&!c.disabled&&!c.readonly?(e.openBlock(),e.createBlock(e.unref(yn),{key:5,class:"dp__clear_icon dp__input_icons",onClick:e.withModifiers($,["stop","prevent"])},null,8,["onClick"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],8,Ln))}}),qn=t=>typeof t=="object",Jt=(t,a)=>a,Jn=t=>Array.isArray(t)&&t.length===2,Zn=t=>Array.isArray(t),Qn=t=>typeof t=="object",Oe=t=>Array.isArray(t),me=t=>Array.isArray(t),Ge=t=>Array.isArray(t)&&t.length===2,Fn=(t,a)=>a?Array.isArray(t):Ge(t),xn=t=>Array.isArray(t),el=t=>typeof t=="string"||typeof t=="object"||typeof t=="number",Zt=t=>typeof t=="string",ee=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),ft=e.ref(null),Xe=e.ref(!1),pt=e.ref(!1),yt=e.ref(!1),ht=e.ref(!1),oe=e.ref(0),ne=e.ref(0),we=()=>{const t=e.computed(()=>Xe.value?[...ee.selectionGrid,ee.actionRow].filter(r=>r.length):pt.value?[...ee.timePicker[0],...ee.timePicker[1],ht.value?[]:[ft.value],ee.actionRow].filter(r=>r.length):yt.value?[...ee.monthPicker,ee.actionRow]:[ee.monthYear,...ee.calendar,ee.time,ee.actionRow].filter(r=>r.length)),a=r=>{oe.value=r?oe.value+1:oe.value-1;let c=null;t.value[ne.value]&&(c=t.value[ne.value][oe.value]),c||(oe.value=r?oe.value-1:oe.value+1)},l=r=>{if(ne.value===0&&!r||ne.value===t.value.length&&r)return;ne.value=r?ne.value+1:ne.value-1,t.value[ne.value]?t.value[ne.value]&&!t.value[ne.value][oe.value]&&oe.value!==0&&(oe.value=t.value[ne.value].length-1):ne.value=r?ne.value-1:ne.value+1},n=r=>{let c=null;t.value[ne.value]&&(c=t.value[ne.value][oe.value]),c?c.focus({preventScroll:!Xe.value}):oe.value=r?oe.value-1:oe.value+1},d=()=>{a(!0),n(!0)},p=()=>{a(!1),n(!1)},h=()=>{l(!1),n(!0)},y=()=>{l(!0),n(!0)},k=(r,c)=>{ee[c]=r},b=(r,c)=>{ee[c]=r},N=()=>{oe.value=0,ne.value=0};return{buildMatrix:k,buildMultiLevelMatrix:b,setTimePickerBackRef:r=>{ft.value=r},setSelectionGrid:r=>{Xe.value=r,N(),r||(ee.selectionGrid=[])},setTimePicker:(r,c=!1)=>{pt.value=r,ht.value=c,N(),r||(ee.timePicker[0]=[],ee.timePicker[1]=[])},setTimePickerElements:(r,c=0)=>{ee.timePicker[c]=r},arrowRight:d,arrowLeft:p,arrowUp:h,arrowDown:y,clearArrowNav:()=>{ee.monthYear=[],ee.calendar=[],ee.time=[],ee.actionRow=[],ee.selectionGrid=[],ee.timePicker[0]=[],ee.timePicker[1]=[],Xe.value=!1,pt.value=!1,ht.value=!1,yt.value=!1,N(),ft.value=null},setMonthPicker:r=>{yt.value=r,N()}}},tl=(t,a,l)=>{const n=new Date(JSON.parse(JSON.stringify(t))),d=[];for(let p=0;p<7;p++){const h=s.addDays(n,p),y=s.getMonth(h)!==a;d.push({text:l&&y?"":h.getDate(),value:h,current:!y})}return d},nl=(t,a,l,n)=>{const d=[],p=new Date(a,t),h=new Date(a,t+1,0),y=s.startOfWeek(p,{weekStartsOn:l}),k=b=>{const N=tl(b,t,n);if(d.push({days:N}),!d[d.length-1].days.some(V=>x(fe(V.value),fe(h)))){const V=s.addDays(b,7);k(V)}};return k(y),d},ll=(t,a=3)=>{const l=[];for(let n=0;n<t.length;n+=a)l.push([t[n],t[n+1],t[n+2]]);return l},al=(t,a)=>{const l=[1,2,3,4,5,6,7].map(p=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${p}T00:00:00+00:00`)).slice(0,2)),n=l.slice(0,a),d=l.slice(a+1,l.length);return[l[a]].concat(...d).concat(...n)},rl=t=>{const a=[];for(let l=+t[0];l<=+t[1];l++)a.push({value:+l,text:`${l}`});return a},ol=(t,a)=>{const l=new Intl.DateTimeFormat(t,{month:a,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map(d=>{const p=d<10?`0${d}`:d;return new Date(`2017-${p}-01T00:00:00+00:00`)}).map((d,p)=>({text:l.format(d),value:p}))},sl=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],il=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),cl=t=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},t),ul=t=>{function l(n){let d="";const p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",h=p.length;for(let y=0;y<n;y++)d+=p.charAt(Math.floor(Math.random()*h));return d+t}return l(5)},le=t=>{var l;const a=e.unref(t);return(l=a==null?void 0:a.$el)!=null?l:a},dl=t=>Object.assign({type:"dot"},t),Qt=t=>Object.assign({menuAppear:"dp-menu-appear",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},t),ml=t=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:a=>`Increment ${a}`,decrementValue:a=>`Decrement ${a}`,openTpOverlay:a=>`Open ${a} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month"},t),Ft=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,fl={class:"dp__selection_preview"},pl={class:"dp__action_buttons"},yl=["onKeydown"],hl=e.defineComponent({__name:"ActionRow",props:{...Wt,...dt,...jt,...mt,...Xt,inline:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},menuMount:{type:Boolean,default:!1},enableTimePicker:{type:Boolean,default:!0}},emits:["closePicker","selectDate","invalid-select"],setup(t,{emit:a}){const l=t,{buildMatrix:n}=we(),d=e.inject(vt),p=e.inject(ke),h=e.ref(null),y=e.ref(null);e.onMounted(()=>{p!=null&&p.value&&n([le(h),le(y)],"actionRow")});const k=e.computed(()=>l.range&&!l.partialRange&&l.internalModelValue?l.internalModelValue.length===2:!0),b=e.computed(()=>({dp__action:!0,dp__select:!0,dp__action_disabled:!N.value||!V.value||!k.value})),N=e.computed(()=>!l.enableTimePicker||l.ignoreTimeValidation?!0:ot(l.internalModelValue,l.maxTime,l.minTime,l.maxDate,l.minDate)),V=e.computed(()=>l.monthPicker?vn(l.internalModelValue,l.minDate,l.maxDate):!0),_=$=>Ae($,l.previewFormat,d==null?void 0:d.value),T=e.computed(()=>!l.internalModelValue||!l.menuMount?"":typeof l.previewFormat=="string"?Oe(l.internalModelValue)?l.internalModelValue.length===2&&l.internalModelValue[1]?l.multiCalendars>0?`${_(l.internalModelValue[0])} - ${_(l.internalModelValue[1])}`:[_(l.internalModelValue[0]),_(l.internalModelValue[1])]:l.multiDates?l.internalModelValue.map($=>`${_($)}`):l.modelAuto?`${_(l.internalModelValue[0])}`:`${_(l.internalModelValue[0])} -`:Ae(l.internalModelValue,l.previewFormat,d==null?void 0:d.value):l.timePicker?l.previewFormat(lt(l.internalModelValue)):l.monthPicker?l.previewFormat(je(l.internalModelValue)):l.previewFormat(l.internalModelValue)),v=()=>{N.value&&V.value&&k.value?a("selectDate"):a("invalid-select")};return($,X)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__action_row",style:e.normalizeStyle(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[e.createElementVNode("div",fl,[$.$slots["action-preview"]?e.renderSlot($.$slots,"action-preview",{key:0,value:$.internalModelValue}):e.createCommentVNode("",!0),$.$slots["action-preview"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Array.isArray(e.unref(T))?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(e.unref(T)),1)],64)),Array.isArray(e.unref(T))?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(T),(r,c)=>(e.openBlock(),e.createElementBlock("div",{key:c},e.toDisplayString(r),1))),128)):e.createCommentVNode("",!0)],64))]),e.createElementVNode("div",pl,[$.$slots["action-select"]?e.renderSlot($.$slots,"action-select",{key:0,value:$.internalModelValue}):e.createCommentVNode("",!0),$.$slots["action-select"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[t.inline?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__action dp__cancel",ref_key:"cancelButtonRef",ref:h,tabindex:"0",onClick:X[0]||(X[0]=r=>$.$emit("closePicker")),onKeydown:[X[1]||(X[1]=e.withKeys(r=>$.$emit("closePicker"),["enter"])),X[2]||(X[2]=e.withKeys(r=>$.$emit("closePicker"),["space"]))]},e.toDisplayString($.cancelText),545)),e.createElementVNode("span",{class:e.normalizeClass(e.unref(b)),tabindex:"0",onKeydown:[e.withKeys(v,["enter"]),e.withKeys(v,["space"])],onClick:v,ref_key:"selectButtonRef",ref:y},e.toDisplayString($.selectText),43,yl)],64))])],4))}}),gl=["aria-label"],kl={class:"dp__calendar_header",role:"row"},wl={key:0,class:"dp__calendar_header_item",role:"gridcell"},bl=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),Cl=["aria-label"],Ml={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Sl={class:"dp__cell_inner"},Bl=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Dl=e.createElementVNode("div",{class:"dp__arrow_bottom_tp"},null,-1),$l=e.defineComponent({__name:"Calendar",props:{...qt,...Ut,mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},modeHeight:{type:[Number,String],default:255},specificMode:{type:Boolean,default:!1}},emits:["selectDate","setHoverDate","handleScroll","mount","handleSwipe","handleSpace"],setup(t,{expose:a,emit:l}){const n=t,d=e.ref(null),p=e.ref({bottom:"",left:"",transform:""}),h=e.ref([]),y=e.ref(null),k=e.ref(!0),b=e.inject(Ue),N=e.inject(ge),V=e.inject(ke),_=e.ref(""),T=e.ref({startX:0,endX:0,startY:0,endY:0}),v=e.computed(()=>n.dayNames?Array.isArray(n.dayNames)?n.dayNames:n.dayNames(n.locale,+n.weekStart):al(n.locale,+n.weekStart)),{buildMultiLevelMatrix:$}=we();e.onMounted(()=>{l("mount",{cmp:"calendar",refs:h}),n.noSwipe||y.value&&(y.value.addEventListener("touchstart",q,{passive:!1}),y.value.addEventListener("touchend",U,{passive:!1}),y.value.addEventListener("touchmove",H,{passive:!1})),n.monthChangeOnScroll&&y.value&&y.value.addEventListener("wheel",u,{passive:!1})});const X=(i,g)=>{if(b!=null&&b.value){const O=fe(Be(new Date,n.month,n.year));_.value=re(fe(Be(new Date,i,g)),O)?b.value[n.vertical?"vNext":"next"]:b.value[n.vertical?"vPrevious":"previous"],k.value=!1,e.nextTick(()=>{k.value=!0})}},r=e.computed(()=>({dp__calendar_wrap:!0,[n.calendarClassName]:!!n.calendarClassName})),c=e.computed(()=>i=>{const g=dl(i);return{dp__marker_dot:g.type==="dot",dp__marker_line:g.type==="line"}}),R=e.computed(()=>i=>x(i,d.value)),z=e.computed(()=>({dp__calendar:!0,dp__calendar_next:n.multiCalendars>0&&n.instance!==0})),D=e.computed(()=>n.specificMode?{height:`${n.modeHeight}px`}:null),Y=(i,g,O)=>{var W,E;if(l("setHoverDate",i),(E=(W=i.marker)==null?void 0:W.tooltip)!=null&&E.length){const F=le(h.value[g][O]);if(F){const{width:J,height:w}=F.getBoundingClientRect();p.value={bottom:`${w}px`,left:`${J/2}px`,transform:"translateX(-50%)"},d.value=i.value}}},L=()=>{d.value=null},q=i=>{T.value.startX=i.changedTouches[0].screenX,T.value.startY=i.changedTouches[0].screenY},U=i=>{T.value.endX=i.changedTouches[0].screenX,T.value.endY=i.changedTouches[0].screenY,S()},H=i=>{i.preventDefault()},S=()=>{const i=n.vertical?"Y":"X";Math.abs(T.value[`start${i}`]-T.value[`end${i}`])>10&&l("handleSwipe",T.value[`start${i}`]>T.value[`end${i}`]?"right":"left")},M=(i,g,O)=>{i&&(Array.isArray(h.value[g])?h.value[g][O]=i:h.value[g]=[i]),V!=null&&V.value&&$(h.value,"calendar")},u=i=>{n.monthChangeOnScroll&&(i.preventDefault(),l("handleScroll",i))};return a({triggerTransition:X}),(i,g)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(z))},[e.createElementVNode("div",{style:e.normalizeStyle(e.unref(D))},[t.specificMode?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"calendarWrapRef",ref:y,class:e.normalizeClass(e.unref(r)),role:"grid","aria-label":e.unref(N).calendarWrap},[e.createElementVNode("div",kl,[i.weekNumbers?(e.openBlock(),e.createElementBlock("div",wl,e.toDisplayString(i.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(v),(O,W)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:W},[i.$slots["calendar-header"]?e.renderSlot(i.$slots,"calendar-header",{key:0,day:O,index:W}):e.createCommentVNode("",!0),i.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(O),1)],64))]))),128))]),bl,e.createVNode(e.Transition,{name:_.value,css:!!e.unref(b)},{default:e.withCtx(()=>[k.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"grid","aria-label":e.unref(N).calendarDays},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.mappedDates,(O,W)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_row",role:"row",key:W},[i.weekNumbers?(e.openBlock(),e.createElementBlock("div",Ml,[e.createElementVNode("div",Sl,e.toDisplayString(t.getWeekNum(O.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(O.days,(E,F)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:J=>M(J,W,F),key:F+W,"aria-selected":E.classData.dp__active_date||E.classData.dp__range_start||E.classData.dp__range_start,"aria-disabled":E.classData.dp__cell_disabled,tabindex:"0",onClick:e.withModifiers(J=>i.$emit("selectDate",E),["stop","prevent"]),onKeydown:[e.withKeys(J=>i.$emit("selectDate",E),["enter"]),e.withKeys(J=>i.$emit("handleSpace",E),["space"])],onMouseover:J=>Y(E,W,F),onMouseleave:L},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",E.classData])},[i.$slots.day?e.renderSlot(i.$slots,"day",{key:0,day:+E.text,date:E.value}):e.createCommentVNode("",!0),i.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(E.text),1)],64)),E.marker?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(e.unref(c)(E.marker)),style:e.normalizeStyle(E.marker.color?{backgroundColor:E.marker.color}:{})},null,6)):e.createCommentVNode("",!0),e.unref(R)(E.value)?(e.openBlock(),e.createElementBlock("div",{key:3,class:"dp__marker_tooltip",style:e.normalizeStyle(p.value)},[e.createElementVNode("div",{class:"dp__tooltip_content",onClick:g[0]||(g[0]=e.withModifiers(()=>{},["stop"]))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(E.marker.tooltip,(J,w)=>(e.openBlock(),e.createElementBlock("div",{key:w,class:"dp__tooltip_text"},[i.$slots["marker-tooltip"]?e.renderSlot(i.$slots,"marker-tooltip",{key:0,tooltop:J,day:E.value}):e.createCommentVNode("",!0),i.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(J.color?{backgroundColor:J.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(J.text),1)],64))]))),128)),Dl])],4)):e.createCommentVNode("",!0)],2)],40,Bl))),128))]))),128))],8,Cl)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],10,gl))],4)],2))}}),Vl=["aria-label","aria-disabled"],gt=e.defineComponent({__name:"ActionIcon",props:{ariaLabel:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["activate","setRef"],setup(t,{emit:a}){const l=e.ref(null);return e.onMounted(()=>a("setRef",l)),(n,d)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__month_year_col_nav",onClick:d[0]||(d[0]=p=>n.$emit("activate")),onKeydown:[d[1]||(d[1]=e.withKeys(p=>n.$emit("activate"),["enter"])),d[2]||(d[2]=e.withKeys(p=>n.$emit("activate"),["space"]))],tabindex:"0",role:"button","aria-label":t.ariaLabel,"aria-disabled":t.disabled,ref_key:"elRef",ref:l},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:t.disabled}])},[e.renderSlot(n.$slots,"default")],2)],40,Vl))}}),Nl={class:"dp__selection_grid_header"},Pl=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Al=["aria-label","onKeydown"],Ie=e.defineComponent({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1}},emits:["update:modelValue","selected","toggle","reset-flow"],setup(t,{expose:a,emit:l}){const n=t,d=e.ref(!1),p=e.ref(null),h=e.ref(null),y=e.ref([]),k=e.inject(it,!1),b=e.inject(Kt,e.ref(!1)),N=e.inject(ge),V=e.inject(ke),_=e.ref(),T=e.ref(),{setSelectionGrid:v,buildMultiLevelMatrix:$,setMonthPicker:X}=we();e.onBeforeUpdate(()=>{p.value=null}),e.onMounted(()=>{e.nextTick().then(()=>U()),c(),r(!0)}),e.onUnmounted(()=>r(!1));const r=i=>{var g;V!=null&&V.value&&((g=n.headerRefs)!=null&&g.length?X(i):v(i))},c=()=>{const i=le(h);i&&(b.value||i.focus({preventScroll:!0}),d.value=i.clientHeight<i.scrollHeight)},R=e.computed(()=>({dp__overlay:!0})),z=e.computed(()=>({dp__overlay_col:!0})),D=e.computed(()=>n.items.map(i=>i.filter(g=>g).map(g=>{var E,F,J;const O=n.disabledValues.some(w=>w===g.value)||q(g.value),W=(E=n.multiModelValue)!=null&&E.length?(F=n.multiModelValue)==null?void 0:F.some(w=>x(w,s.setYear(n.monthPicker?s.setMonth(new Date,g.value):new Date,n.monthPicker?n.year:g.value))):n.skipActive?!1:g.value===n.modelValue;return{...g,className:{dp__overlay_cell_active:W,dp__overlay_cell:!W,dp__overlay_cell_disabled:O,dp__overlay_cell_active_disabled:O&&W,dp__overlay_cell_pad:!0,dp__cell_in_between:(J=n.multiModelValue)!=null&&J.length?S(g.value):!1}}}))),Y=e.computed(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:d.value,dp__button_bottom:k})),L=e.computed(()=>{var i,g;return{dp__overlay_container:!0,dp__container_flex:((i=n.items)==null?void 0:i.length)<=6,dp__container_block:((g=n.items)==null?void 0:g.length)>6}}),q=i=>{const g=n.maxValue||n.maxValue===0,O=n.minValue||n.minValue===0;return!g&&!O?!1:g&&O?+i>+n.maxValue||+i<+n.minValue:g?+i>+n.maxValue:O?+i<+n.minValue:!1},U=()=>{const i=le(p);if(i){const g=le(h);g&&(g.scrollTop=i.offsetTop-g.offsetTop-(g.getBoundingClientRect().height/2-i.getBoundingClientRect().height))}},H=i=>{!n.disabledValues.some(g=>g===i)&&!q(i)&&(l("update:modelValue",i),l("selected"))},S=i=>{const g=n.monthPicker?n.year:i;return Ot(n.multiModelValue,s.setYear(n.monthPicker?s.setMonth(new Date,_.value||0):new Date,n.monthPicker?g:_.value||g),s.setYear(n.monthPicker?s.setMonth(new Date,i):new Date,g))},M=()=>{l("toggle"),l("reset-flow")},u=(i,g,O,W)=>{var E,F;if(i&&(g.value===+n.modelValue&&!n.disabledValues.includes(g.value)&&(p.value=i),V!=null&&V.value)){Array.isArray(y.value[O])?y.value[O][W]=i:y.value[O]=[i];const J=(E=n.headerRefs)!=null&&E.length?[n.headerRefs].concat(y.value):y.value.concat([n.skipButtonRef?[]:[T.value]]);$(J,(F=n.headerRefs)!=null&&F.length?"monthPicker":"selectionGrid")}};return a({focusGrid:c}),(i,g)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:h,class:e.normalizeClass(e.unref(R)),role:"dialog",tabindex:"0"},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(L)),role:"grid"},[e.createElementVNode("div",Nl,[e.renderSlot(i.$slots,"header")]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(D),(O,W)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__overlay_row",key:e.unref(ul)(W),role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(O,(E,F)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:e.normalizeClass(e.unref(z)),key:E.value,"aria-selected":E.value===t.modelValue&&!t.disabledValues.includes(E.value),"aria-disabled":E.className.dp__overlay_cell_disabled,ref_for:!0,ref:J=>u(J,E,W,F),tabindex:"0",onClick:J=>H(E.value),onKeydown:[e.withKeys(J=>H(E.value),["enter"]),e.withKeys(J=>H(E.value),["space"])],onMouseover:J=>_.value=E.value},[e.createElementVNode("div",{class:e.normalizeClass(E.className)},[i.$slots.item?e.renderSlot(i.$slots,"item",{key:0,item:E}):e.createCommentVNode("",!0),i.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(E.text),1)],64))],2)],42,Pl))),128))]))),128)),i.$slots["button-icon"]?(e.openBlock(),e.createElementBlock("div",{key:0,role:"button","aria-label":e.unref(N).toggleOverlay,class:e.normalizeClass(e.unref(Y)),tabindex:"0",ref_key:"toggleButton",ref:T,onClick:M,onKeydown:e.withKeys(M,["enter"])},[e.renderSlot(i.$slots,"button-icon")],42,Al)):e.createCommentVNode("",!0)],2)],2))}}),qe=()=>{const t=e.inject(Ue);return{transitionName:e.computed(()=>l=>t!=null&&t.value?l?t.value.open:t.value.close:""),showTransition:!!(t!=null&&t.value)}},Tl=["aria-label"],xt=e.defineComponent({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},headerRefs:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","setRef"],setup(t,{emit:a}){const{transitionName:l,showTransition:n}=qe(),d=e.ref(null);return e.onMounted(()=>a("setRef",d)),(p,h)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{class:"dp__month_year_select",onClick:h[0]||(h[0]=y=>p.$emit("toggle")),onKeydown:[h[1]||(h[1]=e.withKeys(y=>p.$emit("toggle"),["enter"])),h[2]||(h[2]=e.withKeys(y=>p.$emit("toggle"),["space"]))],role:"button","aria-label":t.ariaLabel,tabindex:"0",ref_key:"elRef",ref:d},[e.renderSlot(p.$slots,"default")],40,Tl),e.createVNode(e.Transition,{name:e.unref(l)(t.showSelectionGrid),css:e.unref(n)},{default:e.withCtx(()=>[t.showSelectionGrid?(e.openBlock(),e.createBlock(Ie,e.mergeProps({key:0},{modelValue:t.modelValue,items:t.items,disabledValues:t.disabledValues,minValue:t.minValue,maxValue:t.maxValue},{"header-refs":[],"onUpdate:modelValue":h[3]||(h[3]=y=>p.$emit("update:model-value",y)),onToggle:h[4]||(h[4]=y=>p.$emit("toggle"))}),e.createSlots({"button-icon":e.withCtx(()=>[p.$slots["calendar-icon"]?e.renderSlot(p.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),p.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Le),{key:1}))]),_:2},[p.$slots[t.slotName]?{name:"item",fn:e.withCtx(({item:y})=>[e.renderSlot(p.$slots,t.slotName,{item:y})]),key:"0"}:void 0]),1040)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],64))}}),Je=(t,a,l)=>[s.set(new Date(t),{date:1}),s.set(new Date,{month:a,year:l,date:1})],kt=(t,a,l)=>ae(...Je(t,a,l))||x(...Je(t,a,l)),wt=(t,a,l)=>re(...Je(t,a,l))||x(...Je(t,a,l)),en=(t,a,l,n,d,p)=>{let h=!1;return p?t&&a?(a&&d&&wt(a,l,n)&&(h=!0),t&&!d&&kt(t,l,n)&&(h=!0)):(t&&kt(t,l,n)||a&&wt(a,l,n))&&(h=!0):h=!0,h},El=(t,a)=>{const l=(y,k)=>{let b=y;return t.filters.months.includes(s.getMonth(b))?(b=k?s.addMonths(y,1):s.subMonths(y,1),l(b,k)):b},n=(y,k)=>{let b=y;return t.filters.years.includes(s.getYear(b))?(b=k?s.addYears(y,1):s.subYears(y,1),n(b,k)):b},d=y=>{const k=s.set(new Date,{month:t.month,year:t.year});let b=y?s.addMonths(k,1):s.subMonths(k,1),N=s.getMonth(b),V=s.getYear(b);t.filters.months.includes(N)&&(b=l(b,y),N=s.getMonth(b),V=s.getYear(b)),t.filters.years.includes(V)&&(b=n(b,y),V=s.getYear(b)),en(t.minDate,t.maxDate,N,V,y,t.preventMinMaxNavigation)&&p(N,V)},p=(y,k)=>{a("update-month-year",{month:y,year:k})},h=e.computed(()=>y=>{if(!t.preventMinMaxNavigation||y&&!t.maxDate||!y&&!t.minDate)return!1;const k=s.set(new Date,{month:t.month,year:t.year}),b=y?s.addMonths(k,1):s.subMonths(k,1),N=[s.getMonth(b),s.getYear(b)];return y?!wt(t.maxDate,...N):!kt(t.minDate,...N)});return{handleMonthYearChange:d,isDisabled:h}},Rl={class:"dp__month_year_row"},_l={class:"dp__month_picker_header"},Ol=["aria-label"],Il=["aria-label","onKeydown"],Yl=["aria-label"],Kl=e.defineComponent({__name:"MonthYearPicker",props:{...qt,...dt,preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})},multiCalendarsSolo:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1}},emits:["update-month-year","monthYearSelect","mount","reset-flow","overlay-closed"],setup(t,{expose:a,emit:l}){const n=t,{transitionName:d,showTransition:p}=qe(),{buildMatrix:h}=we(),y=e.ref(!1),k=e.ref(!1),b=e.ref([null,null,null,null]),N=e.ref(null),V=e.ref(null),_=e.ref(null),T=e.inject(ge),v=e.inject(ke),{handleMonthYearChange:$,isDisabled:X}=El(n,l);e.onMounted(()=>{l("mount")});const r=w=>({get:()=>n[w],set:P=>{const A=w==="month"?"year":"month";l("update-month-year",{[w]:P,[A]:n[A]}),l("monthYearSelect",w==="year"),w==="month"?O(!0):W(!0)}}),c=e.computed(r("month")),R=e.computed(r("year")),z=e.computed(()=>w=>{const P=w==="month";return{showSelectionGrid:(P?y:k).value,items:(P?M:u).value,disabledValues:n.filters[P?"months":"years"],minValue:(P?L:D).value,maxValue:(P?q:Y).value,headerRefs:P&&n.monthPicker?[N.value,V.value,_.value]:[]}}),D=e.computed(()=>n.minDate?s.getYear(new Date(n.minDate)):null),Y=e.computed(()=>n.maxDate?s.getYear(new Date(n.maxDate)):null),L=e.computed(()=>{if(n.minDate&&D.value){if(D.value>n.year)return 12;if(D.value===n.year)return s.getMonth(new Date(n.minDate))}return null}),q=e.computed(()=>n.maxDate&&Y.value?Y.value<n.year?-1:Y.value===n.year?s.getMonth(new Date(n.maxDate)):null:null),U=e.computed(()=>n.range&&n.internalModelValue&&(n.monthPicker||n.yearPicker)?n.internalModelValue:[]),H=(w,P=!1)=>{const A=[];for(let de=0;de<w.length;de+=3){const ye=[w[de],w[de+1],w[de+2]];A.push(P?ye.reverse():ye)}return P?A.reverse():A},S=e.computed(()=>{const w=n.months.find(P=>P.value===n.month);return w||{text:"",value:0}}),M=e.computed(()=>H(n.months)),u=e.computed(()=>H(n.years,n.reverseYears)),i=e.computed(()=>n.multiCalendars?n.multiCalendarsSolo?!0:n.instance===0:!0),g=e.computed(()=>n.multiCalendars?n.multiCalendarsSolo?!0:n.instance===n.multiCalendars-1:!0),O=(w=!1)=>{E(w),y.value=!y.value,y.value||l("overlay-closed")},W=(w=!1)=>{E(w),k.value=!k.value,k.value||l("overlay-closed")},E=w=>{w||l("reset-flow")},F=(w=!1)=>{l("update-month-year",{year:w?n.year+1:n.year-1,month:n.month})},J=(w,P)=>{v!=null&&v.value&&(b.value[P]=le(w),h(b.value,"monthYear"))};return a({toggleMonthPicker:O,toggleYearPicker:W}),(w,P)=>(e.openBlock(),e.createElementBlock("div",Rl,[!w.monthPicker&&!t.yearPicker?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.unref(i)&&!w.vertical?(e.openBlock(),e.createBlock(gt,{key:0,"aria-label":e.unref(T).prevMonth,disabled:e.unref(X)(!1),onActivate:P[0]||(P[0]=A=>e.unref($)(!1)),onSetRef:P[1]||(P[1]=A=>J(A,0))},{default:e.withCtx(()=>[w.$slots["arrow-left"]?e.renderSlot(w.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),w.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createVNode(xt,e.mergeProps({"aria-label":e.unref(T).openMonthsOverlay,"slot-name":"month-overlay",modelValue:e.unref(c),"onUpdate:modelValue":P[2]||(P[2]=A=>e.isRef(c)?c.value=A:null)},e.unref(z)("month"),{onToggle:O,onSetRef:P[3]||(P[3]=A=>J(A,1))}),e.createSlots({default:e.withCtx(()=>[w.$slots.month?e.renderSlot(w.$slots,"month",e.normalizeProps(e.mergeProps({key:0},e.unref(S)))):e.createCommentVNode("",!0),w.$slots.month?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(S).text),1)],64))]),_:2},[w.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(w.$slots,"calendar-icon")]),key:"0"}:void 0,w.$slots["month-overlay"]?{name:"month-overlay",fn:e.withCtx(({item:A})=>[e.renderSlot(w.$slots,"month-overlay",{text:A.text,value:A.value})]),key:"1"}:void 0]),1040,["aria-label","modelValue"]),e.createVNode(xt,e.mergeProps({"aria-label":e.unref(T).openYearsOverlay,"slot-name":"year-overlay",modelValue:e.unref(R),"onUpdate:modelValue":P[4]||(P[4]=A=>e.isRef(R)?R.value=A:null)},e.unref(z)("year"),{onToggle:W,onSetRef:P[5]||(P[5]=A=>J(A,2))}),e.createSlots({default:e.withCtx(()=>[w.$slots.year?e.renderSlot(w.$slots,"year",{key:0,year:w.year}):e.createCommentVNode("",!0),w.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(w.year),1)],64))]),_:2},[w.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(w.$slots,"calendar-icon")]),key:"0"}:void 0,w.$slots["year-overlay"]?{name:"year-overlay",fn:e.withCtx(({item:A})=>[e.renderSlot(w.$slots,"year-overlay",{text:A.text,value:A.value})]),key:"1"}:void 0]),1040,["aria-label","modelValue"]),e.unref(i)&&w.vertical?(e.openBlock(),e.createBlock(gt,{key:1,"aria-label":e.unref(T).prevMonth,disabled:e.unref(X)(!1),onActivate:P[6]||(P[6]=A=>e.unref($)(!1))},{default:e.withCtx(()=>[w.$slots["arrow-up"]?e.renderSlot(w.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),w.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Nt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(g)?(e.openBlock(),e.createBlock(gt,{key:2,disabled:e.unref(X)(!0),"aria-label":e.unref(T).nextMonth,onActivate:P[7]||(P[7]=A=>e.unref($)(!0)),ref:"rightIcon",onSetRef:P[8]||(P[8]=A=>J(A,3))},{default:e.withCtx(()=>[w.$slots[w.vertical?"arrow-down":"arrow-right"]?e.renderSlot(w.$slots,w.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),w.$slots[w.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(w.vertical?e.unref(Pt):e.unref($t)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),w.monthPicker?(e.openBlock(),e.createBlock(Ie,e.mergeProps({key:1},e.unref(z)("month"),{"skip-active":n.range,year:w.year,"multi-model-value":e.unref(U),"month-picker":"",modelValue:e.unref(c),"onUpdate:modelValue":P[15]||(P[15]=A=>e.isRef(c)?c.value=A:null),onToggle:O,onSelected:P[16]||(P[16]=A=>w.$emit("overlay-closed"))}),e.createSlots({header:e.withCtx(()=>[e.createElementVNode("div",_l,[e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:N,onClick:P[9]||(P[9]=A=>F(!1)),onKeydown:P[10]||(P[10]=e.withKeys(A=>F(!1),["enter"]))},[e.createElementVNode("div",{class:"dp__inner_nav",role:"button","aria-label":e.unref(T).prevMonth},[w.$slots["arrow-left"]?e.renderSlot(w.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),w.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))],8,Ol)],544),e.createElementVNode("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:V,"aria-label":e.unref(T).openYearsOverlay,tabindex:"0",onClick:W,onKeydown:e.withKeys(W,["enter"])},[w.$slots.year?e.renderSlot(w.$slots,"year",{key:0,year:w.year}):e.createCommentVNode("",!0),w.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(w.year),1)],64))],40,Il),e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:_,onClick:P[11]||(P[11]=A=>F(!0)),onKeydown:P[12]||(P[12]=e.withKeys(A=>F(!0),["enter"]))},[e.createElementVNode("div",{class:"dp__inner_nav",role:"button","aria-label":e.unref(T).nextMonth},[w.$slots["arrow-right"]?e.renderSlot(w.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),w.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref($t),{key:1}))],8,Yl)],544)]),e.createVNode(e.Transition,{name:e.unref(d)(k.value),css:e.unref(p)},{default:e.withCtx(()=>[k.value?(e.openBlock(),e.createBlock(Ie,e.mergeProps({key:0},e.unref(z)("year"),{modelValue:e.unref(R),"onUpdate:modelValue":P[13]||(P[13]=A=>e.isRef(R)?R.value=A:null),onToggle:W,onSelected:P[14]||(P[14]=A=>w.$emit("overlay-closed"))}),e.createSlots({"button-icon":e.withCtx(()=>[w.$slots["calendar-icon"]?e.renderSlot(w.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),w.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Le),{key:1}))]),_:2},[w.$slots["year-overlay"]?{name:"item",fn:e.withCtx(({item:A})=>[e.renderSlot(w.$slots,"year-overlay",{text:A.text,value:A.value})]),key:"0"}:void 0]),1040,["modelValue"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]),_:2},[w.$slots["month-overlay"]?{name:"item",fn:e.withCtx(({item:A})=>[e.renderSlot(w.$slots,"month-overlay",{text:A.text,value:A.value})]),key:"0"}:void 0]),1040,["skip-active","year","multi-model-value","modelValue"])):e.createCommentVNode("",!0),t.yearPicker?(e.openBlock(),e.createBlock(Ie,e.mergeProps({key:2},e.unref(z)("year"),{modelValue:e.unref(R),"onUpdate:modelValue":P[17]||(P[17]=A=>e.isRef(R)?R.value=A:null),"multi-model-value":e.unref(U),"skip-active":n.range,"skip-button-ref":"","year-picker":"",onToggle:W,onSelected:P[18]||(P[18]=A=>w.$emit("overlay-closed"))}),e.createSlots({_:2},[w.$slots["year-overlay"]?{name:"item",fn:e.withCtx(({item:A})=>[e.renderSlot(w.$slots,"year-overlay",{text:A.text,value:A.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):e.createCommentVNode("",!0)]))}}),vl={key:0,class:"dp__time_input"},Hl=e.createTextVNode(" : "),zl=["aria-label","onKeydown","onClick"],Ll=["aria-label","onKeydown","onClick"],jl=["aria-label","onKeydown","onClick"],Wl={key:0},Ul=["aria-label","onKeydown"],Gl=e.defineComponent({__name:"TimeInput",props:{...Ht,hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},filters:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0}},emits:["setHours","setMinutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed"],setup(t,{expose:a,emit:l}){const n=t,d=e.reactive({hours:!1,minutes:!1,seconds:!1}),p=e.ref("AM"),h=e.ref(null),y=e.inject(ge),k=e.inject(ke),b=e.ref([]),{transitionName:N,showTransition:V}=qe(),{setTimePickerElements:_,setTimePickerBackRef:T}=we();e.onMounted(()=>{l("mounted")});const v=e.computed(()=>({dp__time_col:!0,dp__time_col_reg:!n.enableSeconds&&n.is24,dp__time_col_reg_with_button:!n.enableSeconds&&!n.is24,dp__time_col_sec:n.enableSeconds&&n.is24,dp__time_col_sec_with_button:n.enableSeconds&&!n.is24})),$=e.computed(()=>{const S=[{type:"hours"},"separator",{type:"minutes"}];return n.enableSeconds?S.concat(["separator",{type:"seconds"}]):S}),X=e.computed(()=>$.value.filter(S=>typeof S!="string")),r=e.computed(()=>S=>{if(S==="hours"){const M=Y(n.hours);return{text:M<10?`0${M}`:`${M}`,value:M}}return{text:n[S]<10?`0${n[S]}`:`${n[S]}`,value:n[S]}}),c=S=>{const M=S==="hours"?n.is24?24:12:60,u=+n[`${S}GridIncrement`],i=[];for(let g=0;g<M;g+=u)i.push({value:g,text:g<10?`0${g}`:`${g}`});return ll(i)},R=S=>n[`no${S[0].toUpperCase()+S.slice(1)}Overlay`],z=S=>{R(S)||(d[S]=!d[S],d[S]||l("overlay-closed"))},D=(S,M=!0)=>{const u=S==="hours"?s.getHours:S==="minutes"?s.getMinutes:s.getSeconds,i=M?Yn:Kn;l(`update:${S}`,u(i({[S]:+n[S]},{[S]:+n[`${S}Increment`]})))},Y=S=>n.is24?S:(S>=12?p.value="PM":p.value="AM",sl(S)),L=()=>{p.value==="PM"?(p.value="AM",l("update:hours",n.hours-12)):(p.value="PM",l("update:hours",n.hours+12))},q=S=>{d[S]=!0},U=(S,M,u)=>{if(S&&(k==null?void 0:k.value)){Array.isArray(b.value[M])?b.value[M][u]=S:b.value[M]=[S];const i=b.value.reduce((g,O)=>O.map((W,E)=>[...g[E]||[],O[E]]),[]);T(n.closeTimePickerBtn),h.value&&(i[1]=i[1].concat(h.value)),_(i,n.order)}},H=(S,M)=>S==="hours"&&!n.is24?l(`update:${S}`,p.value==="PM"?M+12:M):l(`update:${S}`,M);return a({openChildCmp:q}),(S,M)=>t.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",vl,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref($),(u,i)=>(e.openBlock(),e.createElementBlock("div",{key:i,class:e.normalizeClass(e.unref(v))},[u==="separator"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[Hl],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__inc_dec_button",role:"button","aria-label":e.unref(y).incrementValue(u.type),tabindex:"0",onKeydown:[e.withKeys(g=>D(u.type),["enter"]),e.withKeys(g=>D(u.type),["space"])],onClick:g=>D(u.type),ref_for:!0,ref:g=>U(g,i,0)},[S.$slots["arrow-up"]?e.renderSlot(S.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),S.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Nt),{key:1}))],40,zl),e.createElementVNode("div",{role:"button","aria-label":e.unref(y).openTpOverlay(u.type),class:e.normalizeClass(R(u.type)?"":"dp__time_display"),tabindex:"0",onKeydown:[e.withKeys(g=>z(u.type),["enter"]),e.withKeys(g=>z(u.type),["space"])],onClick:g=>z(u.type),ref_for:!0,ref:g=>U(g,i,1)},[S.$slots[u.type]?e.renderSlot(S.$slots,u.type,{key:0,text:e.unref(r)(u.type).text,value:e.unref(r)(u.type).value}):e.createCommentVNode("",!0),S.$slots[u.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(r)(u.type).text),1)],64))],42,Ll),e.createElementVNode("div",{class:"dp__inc_dec_button",role:"button","aria-label":e.unref(y).decrementValue(u.type),tabindex:"0",onKeydown:[e.withKeys(g=>D(u.type,!1),["enter"]),e.withKeys(g=>D(u.type,!1),["space"])],onClick:g=>D(u.type,!1),ref_for:!0,ref:g=>U(g,i,2)},[S.$slots["arrow-down"]?e.renderSlot(S.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),S.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Pt),{key:1}))],40,jl)],64))],2))),128)),S.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Wl,[S.$slots["am-pm-button"]?e.renderSlot(S.$slots,"am-pm-button",{key:0,toggle:L,value:p.value}):e.createCommentVNode("",!0),S.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:h,type:"button",class:"dp__pm_am_button",role:"button","aria-label":e.unref(y).amPmButton,tabindex:"0",onClick:L,onKeydown:[e.withKeys(e.withModifiers(L,["prevent"]),["enter"]),e.withKeys(e.withModifiers(L,["prevent"]),["space"])]},e.toDisplayString(p.value),41,Ul))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(X),(u,i)=>(e.openBlock(),e.createBlock(e.Transition,{key:i,name:e.unref(N)(d[u.type]),css:e.unref(V)},{default:e.withCtx(()=>[d[u.type]?(e.openBlock(),e.createBlock(Ie,{key:0,items:c(u.type),"disabled-values":t.filters.times[u.type],"onUpdate:modelValue":g=>H(u.type,g),onSelected:g=>z(u.type),onToggle:g=>z(u.type),onResetFlow:M[0]||(M[0]=g=>S.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[S.$slots["clock-icon"]?e.renderSlot(S.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),S.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Vt),{key:1}))]),_:2},[S.$slots[`${u.type}-overlay`]?{name:"item",fn:e.withCtx(({item:g})=>[e.renderSlot(S.$slots,`${u.type}-overlay`,{text:g.text,value:g.value})]),key:"0"}:void 0]),1032,["items","disabled-values","onUpdate:modelValue","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}),Ye=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay",use:["calendar","month-year"]},{name:"year-overlay",use:["calendar","month-year"]},{name:"hours-overlay",use:["calendar","time"]},{name:"minutes-overlay",use:["calendar","time"]},{name:"seconds-overlay",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-select",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"now-button",use:[]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]}],Xl=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],ql={all:()=>Ye,monthYear:()=>Ye.filter(t=>t.use.includes("month-year")),input:()=>Xl,timePicker:()=>Ye.filter(t=>t.use.includes("time")),action:()=>Ye.filter(t=>t.use.includes("action")),calendar:()=>Ye.filter(t=>t.use.includes("calendar"))},De=(t,a)=>{const l=[];return ql[a]().forEach(n=>{t[n.name]&&l.push(n.name)}),l},Jl=["aria-label"],Zl={class:"dp__overlay_container dp__container_flex"},Ql={key:1,class:"dp__overlay_row"},Fl=["aria-label"],xl=e.defineComponent({__name:"TimePicker",props:{...zt,range:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},customProps:{type:Object,default:null},modelAuto:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null}},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-closed"],setup(t,{expose:a,emit:l}){const n=t,d=e.useSlots(),p=e.ref(null),h=e.ref(null),y=e.inject(it,!1),k=e.ref([]),b=e.ref(null),N=e.inject(ge),V=e.inject(ke),{transitionName:_,showTransition:T}=qe(),{buildMatrix:v,setTimePicker:$}=we();e.onMounted(()=>{l("mount"),!n.timePicker&&(V==null?void 0:V.value)?v([le(p.value)],"time"):$(!0,n.timePicker)});const X=e.computed(()=>n.range&&n.modelAuto?Ft(n.internalModelValue):!0),r=e.ref(!1),c=M=>({hours:Array.isArray(n.hours)?n.hours[M]:n.hours,minutes:Array.isArray(n.minutes)?n.minutes[M]:n.minutes,seconds:Array.isArray(n.seconds)?n.seconds[M]:n.seconds}),R=e.computed(()=>{const M=[];if(n.range)for(let u=0;u<2;u++)M.push(c(u));else M.push(c(0));return M}),z=(M,u=!1,i="")=>{u||l("reset-flow"),r.value=M,V!=null&&V.value&&($(M),M||l("overlay-closed")),e.nextTick(()=>{i!==""&&k.value[0]&&k.value[0].openChildCmp(i)})},D=e.computed(()=>({dp__button:!0,dp__button_bottom:y})),Y=De(d,"timePicker"),L=(M,u,i)=>n.range?u===0?[M,R.value[1][i]]:[R.value[0][i],M]:M,q=M=>{l("update:hours",M)},U=M=>{l("update:minutes",M)},H=M=>{l("update:seconds",M)},S=()=>{b.value&&(V==null?void 0:V.value)&&b.value.focus({preventScroll:!0})};return a({toggleTimePicker:z}),(M,u)=>(e.openBlock(),e.createElementBlock("div",null,[M.timePicker?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(D)),role:"button","aria-label":e.unref(N).openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:p,onKeydown:[u[0]||(u[0]=e.withKeys(i=>z(!0),["enter"])),u[1]||(u[1]=e.withKeys(i=>z(!0),["space"]))],onClick:u[2]||(u[2]=i=>z(!0))},[M.$slots["clock-icon"]?e.renderSlot(M.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),M.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Vt),{key:1}))],42,Jl)),e.createVNode(e.Transition,{name:e.unref(_)(r.value),css:e.unref(T)},{default:e.withCtx(()=>[r.value||M.timePicker?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__overlay",ref_key:"overlayRef",ref:b,tabindex:"0"},[e.createElementVNode("div",Zl,[M.$slots["time-picker-overlay"]?e.renderSlot(M.$slots,"time-picker-overlay",{key:0,range:t.range,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:q,setMinutes:U,setSeconds:H}):e.createCommentVNode("",!0),M.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Ql,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(R),(i,g)=>e.withDirectives((e.openBlock(),e.createBlock(Gl,e.mergeProps({key:g,disabled:g===0?M.fixedStart:M.fixedEnd,hours:i.hours,minutes:i.minutes,seconds:i.seconds,filters:t.filters,ref_for:!0,ref_key:"timeInputRefs",ref:k},{is24:M.is24,hoursGridIncrement:M.hoursGridIncrement,minutesGridIncrement:M.minutesGridIncrement,secondsGridIncrement:M.secondsGridIncrement,hoursIncrement:M.hoursIncrement,minutesIncrement:M.minutesIncrement,secondsIncrement:M.secondsIncrement,filters:t.filters,noHoursOverlay:M.noHoursOverlay,noMinutesOverlay:M.noMinutesOverlay,noSecondsOverlay:M.noSecondsOverlay,enableSeconds:M.enableSeconds,closeTimePickerBtn:h.value,order:g},{"onUpdate:hours":O=>q(L(O,g,"hours")),"onUpdate:minutes":O=>U(L(O,g,"minutes")),"onUpdate:seconds":O=>H(L(O,g,"seconds")),onMounted:S,onOverlayClosed:S}),e.createSlots({_:2},[e.renderList(e.unref(Y),(O,W)=>({name:O,fn:e.withCtx(E=>[e.renderSlot(M.$slots,O,e.normalizeProps(e.guardReactiveProps(E)))])}))]),1040,["disabled","hours","minutes","seconds","filters","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,g===0?!0:e.unref(X)]])),128))])),M.timePicker?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:2,ref_key:"closeTimePickerBtn",ref:h,class:e.normalizeClass(e.unref(D)),role:"button","aria-label":e.unref(N).closeTimePicker,tabindex:"0",onKeydown:[u[3]||(u[3]=e.withKeys(i=>z(!1),["enter"])),u[4]||(u[4]=e.withKeys(i=>z(!1),["space"]))],onClick:u[5]||(u[5]=i=>z(!1))},[M.$slots["calendar-icon"]?e.renderSlot(M.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),M.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Le),{key:1}))],42,Fl))])],512)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]))}}),ea=(t,a,l,n)=>{const d=e.ref(new Date),p=e.ref(),h=e.ref([{month:s.getMonth(new Date),year:s.getYear(new Date)}]),y=e.ref(t.range?[s.getHours(new Date),s.getHours(new Date)]:s.getHours(new Date)),k=e.ref(t.range?[s.getMinutes(new Date),s.getMinutes(new Date)]:s.getMinutes(new Date)),b=e.ref(t.range?[0,0]:0);e.watch(h,()=>{setTimeout(()=>{t.openOnTop&&a("dpOpen")},0)},{deep:!0}),e.onMounted(()=>{U(!0),r.value||(t.startDate&&(h.value[0].month=s.getMonth(new Date(t.startDate)),h.value[0].year=s.getYear(new Date(t.startDate)),t.multiCalendars&&P(0)),t.startTime&&X())});const N=e.computed(()=>o=>h.value[o]?h.value[o].month:0),V=e.computed(()=>o=>h.value[o]?h.value[o].year:0),_=(o,C,B)=>{h.value[o].month=C,h.value[o].year=B},T=(o,C)=>h.value[o].month=C,v=(o,C)=>h.value[o].year=C,$=(o=!0)=>t.enableSeconds?Array.isArray(b.value)?o?b.value[0]:b.value[1]:b.value:0,X=()=>{t.startTime&&(xn(t.startTime)?(y.value=[+t.startTime[0].hours,+t.startTime[1].hours],k.value=[+t.startTime[0].minutes,+t.startTime[1].minutes],t.enableSeconds&&(b.value=[+t.startTime[0].seconds,+t.startTime[1].seconds])):(y.value=+t.startTime.hours,k.value=+t.startTime.minutes,t.enableSeconds&&(b.value=+t.startTime.seconds)))},r=e.computed({get:()=>t.internalModelValue,set:o=>{!t.readonly&&!t.disabled&&a("update:internalModelValue",o)}});e.watch(r,()=>U());const c=o=>{const{validate:C}=Yt(t.minDate,t.maxDate,t.disabledDates,t.allowedDates,t.filters,t.disabledWeekDays,t.yearRange);return!C(o)},R=o=>!r.value||t.hideOffsetDates&&!o.current?!1:t.range?t.modelAuto&&Array.isArray(r.value)?x(o.value,r.value[0]?r.value[0]:d.value):!1:t.multiDates&&Array.isArray(r.value)?r.value.some(C=>x(C,o.value)):x(o.value,r.value?r.value:d.value),z=o=>Ot(r.value,p.value,o.value),D=(o,C=!1)=>{if((!t.multiCalendars||!t.multiStatic||C)&&(T(0,s.getMonth(o)),v(0,s.getYear(o))),t.multiCalendars)for(let B=1;B<=t.multiCalendars;B++){const Q=s.set(new Date,{month:N.value(B-1),year:V.value(B-1)}),ce=s.add(Q,{months:1});h.value[B]={month:s.getMonth(ce),year:s.getYear(ce)}}},Y=()=>{if(Array.isArray(r.value)&&r.value.length===2){const o=new Date(r.value[1]?r.value[1]:s.addMonths(r.value[0],1)),[C,B]=[s.getMonth(r.value[0]),s.getYear(r.value[0])],[Q,ce]=[s.getMonth(r.value[1]),s.getYear(r.value[1])];(C!==Q||C===Q&&B!==ce)&&t.multiCalendarsSolo&&(T(1,s.getMonth(o)),v(1,s.getYear(o)))}},L=o=>{D(o),y.value=s.getHours(o),k.value=s.getMinutes(o),b.value=s.getSeconds(o)},q=()=>Array.isArray(r.value)&&r.value.length?r.value[r.value.length-1]:null,U=(o=!1)=>{if(r.value)if(Oe(r.value)){if(r.value.length===2&&!t.multiDates)D(r.value[0],o),y.value=[s.getHours(r.value[0]),r.value[1]?s.getHours(r.value[1]):s.getHours(new Date)],k.value=[s.getMinutes(r.value[0]),r.value[1]?s.getMinutes(r.value[1]):s.getMinutes(new Date)],b.value=[s.getSeconds(r.value[0]),r.value[1]?s.getSeconds(r.value[1]):s.getSeconds(new Date)];else if(Oe(r.value)&&t.multiDates){const C=r.value[r.value.length-1];C&&L(C)}t.multiCalendars&&t.multiCalendarsSolo&&Y()}else L(r.value);else t.timePicker?(X(),t.range?me(y.value)&&me(k.value)&&(r.value=[ie(new Date,y.value[0],k.value[0],$()),ie(new Date,y.value[1],k.value[1],$(!1))]):r.value=ie(new Date,y.value,k.value,$())):t.monthPicker&&!t.range?r.value=Be(new Date,N.value(0),V.value(0)):t.multiCalendars?D(new Date):t.yearPicker&&!t.range&&(r.value=new Date)},H=o=>{const C=s.getMonth(new Date(o)),B=s.getYear(new Date(o));if(T(0,C),v(0,B),t.multiCalendars>0)for(let Q=1;Q<t.multiCalendars;Q++){const ce=In(s.set(new Date(o),{year:N.value(Q-1),month:V.value(Q-1)}));T(Q,ce.month),v(Q,ce.year)}},S=o=>{if(r.value&&Array.isArray(r.value))if(r.value.some(C=>x(o,C))){const C=r.value.filter(B=>!x(B,o));r.value=C.length?C:null}else(t.multiDatesLimit&&+t.multiDatesLimit>r.value.length||!t.multiDatesLimit)&&r.value.push(o);else r.value=[o]},M=o=>{if(Array.isArray(r.value)&&r.value[0]){const C=s.differenceInCalendarDays(o,r.value[0]),B=re(r.value[0],o)?o:r.value[0],Q=re(o,r.value[0])?o:r.value[0],Ne=s.eachDayOfInterval({start:B,end:Q}).filter(_e=>c(_e)).length,ue=Math.abs(C<0?C+1:C-1)-Ne;if(t.minRange&&t.maxRange)return ue>=+t.minRange&&ue<=+t.maxRange;if(t.minRange)return ue>=+t.minRange;if(t.maxRange)return ue<=+t.maxRange}return!0},u=o=>Array.isArray(r.value)&&r.value.length===2?t.fixedStart&&(re(o,r.value[0])||x(o,r.value[0]))?[r.value[0],o]:t.fixedEnd&&(ae(o,r.value[1])||x(o,r.value[1]))?[o,r.value[1]]:r.value:[],i=()=>{t.autoApply&&a("autoApply")},g=o=>!s.eachDayOfInterval({start:o[0],end:o[1]}).some(B=>c(B)),O=(o,C=!1)=>{if(!c(o.value)&&!(!o.current&&t.hideOffsetDates)){if(t.weekPicker)return r.value=We(new Date(o.value),+t.weekStart),i();if(!t.range&&!me(y.value)&&!me(k.value)){const B=ie(new Date(o.value),y.value,k.value,$());t.multiDates?S(B):r.value=B,l(),i()}else if(me(y.value)&&me(k.value)&&!t.multiDates){let B=r.value?r.value.slice():[];if(B.length===2&&!(t.fixedStart||t.fixedEnd)&&(B=[]),t.autoRange){const Q=[new Date(o.value),s.addDays(new Date(o.value),+t.autoRange)];g(Q)&&(C&&H(o.value),B=Q)}else t.fixedStart||t.fixedEnd?B=u(new Date(o.value)):B[0]?M(new Date(o.value))&&(ae(new Date(o.value),new Date(B[0]))?B.unshift(new Date(o.value)):B[1]=new Date(o.value)):B[0]=new Date(o.value);B.length&&(B[0]&&!B[1]?B[0]=ie(B[0],y.value[0],k.value[0],$()):(B[0]=ie(B[0],y.value[0],k.value[0],$()),B[1]=ie(B[1],y.value[1],k.value[1],$(!1)),l()),r.value=B,B[0]&&B[1]&&t.autoApply&&a("autoApply"))}}},W=o=>{const C=o.find(B=>B.current);return C?s.getISOWeek(C.value):""},E=o=>{!o.current&&t.hideOffsetDates||(p.value=o.value)},F=o=>{if(t.autoRange||t.weekPicker){if(p.value){if(t.hideOffsetDates&&!o.current)return!1;const C=s.addDays(p.value,+t.autoRange),B=We(new Date(p.value),+t.weekStart);return t.weekPicker?x(B[1],new Date(o.value)):x(C,new Date(o.value))}return!1}return!1},J=o=>{if(t.autoRange||t.weekPicker){if(p.value){const C=s.addDays(p.value,+t.autoRange);if(t.hideOffsetDates&&!o.current)return!1;const B=We(new Date(p.value),+t.weekStart);return t.weekPicker?re(o.value,B[0])&&ae(o.value,B[1]):re(o.value,p.value)&&ae(o.value,C)}return!1}return!1},w=o=>{if(t.autoRange||t.weekPicker){if(p.value){if(t.hideOffsetDates&&!o.current)return!1;const C=We(new Date(p.value),+t.weekStart);return t.weekPicker?x(C[0],o.value):x(p.value,o.value)}return!1}return!1},P=o=>{for(let C=o-1;C>=0;C--){const B=s.subMonths(s.set(new Date,{month:N.value(C+1),year:V.value(C+1)}),1);_(C,s.getMonth(B),s.getYear(B))}for(let C=o+1;C<=t.multiCalendars-1;C++){const B=s.addMonths(s.set(new Date,{month:N.value(C-1),year:V.value(C-1)}),1);_(C,s.getMonth(B),s.getYear(B))}},A=o=>Be(new Date,N.value(o),V.value(o)),de=(o,C)=>{if(T(o,C.month),v(o,C.year),t.multiCalendars&&!t.multiCalendarsSolo&&P(o),t.monthPicker||t.yearPicker)if(t.range){let B=r.value?r.value.slice():[];B.length===2&&B[1]!==null&&(B=[]),B.length?ae(A(o),B[0])?B.unshift(A(o)):B[1]=A(o):B=[A(o)],r.value=B}else r.value=A(o);l(),a("updateMonthYear",{instance:o,month:C.month,year:C.year}),Fe(t.multiCalendarsSolo?o:void 0)},ye=o=>ie(o,y.value,k.value,$()),he=o=>{Oe(o)&&Oe(r.value)&&me(y.value)&&me(k.value)?(o[0]&&r.value[0]&&(r.value[0]=ie(o[0],y.value[0],k.value[0],$())),o[1]&&r.value[1]&&(r.value[1]=ie(o[1],y.value[1],k.value[1],$(!1)))):t.multiDates&&Array.isArray(r.value)?r.value[r.value.length-1]=ye(o):!t.range&&!Ge(o)&&(r.value=ye(o)),a("timeUpdate")},be=(o,C=!0,B=!1)=>{const Q=C?o:y.value,ce=!C&&!B?o:k.value,Ne=B?o:b.value;if(t.range&&Ge(r.value)&&me(Q)&&me(ce)&&me(Ne)&&!t.disableTimeRangeValidation){const ue=Me=>ie(r.value[Me],Q[Me],ce[Me],Ne[Me]),_e=Me=>s.setMilliseconds(r.value[Me],0);if(x(r.value[0],r.value[1])&&(s.isAfter(ue(0),_e(1))||s.isBefore(ue(1),_e(0))))return}if(y.value=Q,k.value=ce,b.value=Ne,r.value)if(t.multiDates){const ue=q();ue&&he(ue)}else he(r.value);else t.timePicker&&he(t.range?[new Date,new Date]:new Date);l()},Ce=()=>{p.value=null},$e=o=>Jt(r.value,t.range)&&r.value[0]&&p.value?o?re(p.value,r.value[0]):ae(p.value,r.value[0]):!0,se=(o,C=!0)=>(t.range||t.weekPicker)&&Ge(r.value)?t.hideOffsetDates&&!o.current?!1:x(new Date(o.value),r.value[C?0:1]):t.range?x(new Date(o.value),r.value&&Array.isArray(r.value)?C?r.value[0]||null:r.value[1]:null)&&(C?!ae(p.value||null,Array.isArray(r.value)?r.value[0]:null):!0)||x(o.value,Array.isArray(r.value)?r.value[0]:null)&&$e(C):!1,Ee=(o,C)=>Array.isArray(t.internalModelValue)&&t.internalModelValue.length||t.weekPicker?!1:!o&&!R(C)&&!(!C.current&&t.hideOffsetDates)&&(t.range?!se(C)&&!se(C,!1):!0),Ke=(o,C,B)=>Array.isArray(t.internalModelValue)&&t.internalModelValue[0]&&t.internalModelValue.length===1?o?!1:B?re(t.internalModelValue[0],C.value):ae(t.internalModelValue[0],C.value):!1,ve=(o=!1)=>{t.autoApply&&(t.monthPicker||t.yearPicker)&&e.nextTick().then(()=>{t.range?a("autoApply",o||!r.value||r.value.length===1):a("autoApply",o)})},m=(o,C)=>{const B=s.set(new Date,{month:N.value(C),year:V.value(C)}),Q=o<0?s.addMonths(B,1):s.subMonths(B,1);en(t.minDate,t.maxDate,s.getMonth(Q),s.getYear(Q),o<0,t.preventMinMaxNavigation)&&(_(C,s.getMonth(Q),s.getYear(Q)),t.multiCalendars&&!t.multiCalendarsSolo&&P(C),Fe())},Z=(o,C)=>{t.monthChangeOnScroll&&m(t.monthChangeOnScroll!=="inverse"?-o.deltaY:o.deltaY,C)},te=(o,C,B=!1)=>{t.monthChangeOnArrows&&t.vertical===B&&Re(o,C)},Re=(o,C)=>{m(o==="right"?-1:1,C)},Ve=o=>t.markers.find(C=>x(pe(o.value),pe(C.date))),Mt=()=>{t.range?Jt(r.value,t.range)&&(r.value&&r.value[0]?r.value=ae(new Date,r.value[0])?[new Date,r.value[0]]:[r.value[0],new Date]:r.value=[new Date]):a("update:internalModelValue",new Date),t.autoApply&&a("selectDate")},St=o=>{o.length&&o.length<=2&&t.range&&(r.value=o.map(C=>new Date(C)),t.autoApply&&a("selectDate"))},Fe=o=>{o||o===0?n.value[o].triggerTransition(N.value(o),V.value(o)):n.value.forEach((C,B)=>C.triggerTransition(N.value(B),V.value(B)))};return{today:d,hours:y,minutes:k,seconds:b,month:N,year:V,monthYearSelect:ve,isDisabled:c,updateTime:be,setHoverDate:E,getWeekNum:W,selectDate:O,rangeActive:z,isActiveDate:R,updateMonthYear:de,isHoverRangeEnd:F,isAutoRangeInBetween:J,isAutoRangeStart:w,clearHoverDate:Ce,rangeActiveStartEnd:se,handleScroll:Z,getMarker:Ve,handleArrow:te,handleSwipe:Re,selectCurrentDate:Mt,isHoverDate:Ee,isHoverDateStartEnd:Ke,presetDateRange:St}},Ze=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),tn=()=>({setMenuFocused:n=>{Ze.menuFocused=n},getStore:()=>Ze,setShiftKey:n=>{Ze.shiftKeyInMenu!==n&&(Ze.shiftKeyInMenu=n)}});var Qe=(t=>(t.center="center",t.left="left",t.right="right",t))(Qe||{});const ta=["id","aria-label","onKeydown"],na={key:0,class:"dp__preset_ranges"},la=["onClick"],aa={key:1,class:"dp__now_wrap"},ra=e.defineComponent({__name:"DatepickerMenu",props:{...Gt,...ut,...ct,internalModelValue:{type:[Date,Array],default:null},multiCalendars:{type:Number,default:0},openOnTop:{type:Boolean,default:!1}},emits:["update:internalModelValue","closePicker","selectDate","dpOpen","autoApply","timeUpdate","flow-step","updateMonthYear","invalid-select"],setup(t,{emit:a}){const l=t,n=e.useSlots(),d=e.ref(null),p=e.reactive({timePicker:!!(!l.enableTimePicker||l.timePicker||l.monthPicker),monthYearInput:!!l.timePicker,calendar:!1}),h=e.ref([]),y=e.ref([]),k=e.ref(null),b=e.ref(null),N=e.ref(0),V=e.ref(!1),_=e.ref(0),T=e.inject(Ue),v=e.inject(ge),$=e.inject(ke),{setMenuFocused:X,setShiftKey:r,getStore:c}=tn();e.onMounted(()=>{var K;V.value=!0,(K=l.presetRanges)!=null&&K.length||Q();const f=le(b);if(f&&!l.textInput&&!l.inline&&(X(!0),L()),f){const I=j=>{!l.monthYearComponent&&!l.timePickerComponent&&j.preventDefault(),j.stopImmediatePropagation(),j.stopPropagation()};f.addEventListener("pointerdown",I),f.addEventListener("mousedown",I)}document.addEventListener("resize",Q)}),e.onUnmounted(()=>{document.removeEventListener("resize",Q)});const{arrowRight:R,arrowLeft:z,arrowDown:D,arrowUp:Y}=we(),L=()=>{const f=le(b);f&&f.focus({preventScroll:!0})},q=()=>{var f;((f=l.flow)==null?void 0:f.length)&&_.value!==-1&&(_.value+=1,a("flow-step",_.value),nn())},U=()=>{_.value=-1},{updateTime:H,updateMonthYear:S,today:M,month:u,year:i,hours:g,minutes:O,seconds:W,isDisabled:E,isActiveDate:F,selectDate:J,getWeekNum:w,setHoverDate:P,isHoverRangeEnd:A,isAutoRangeInBetween:de,isAutoRangeStart:ye,rangeActive:he,clearHoverDate:be,rangeActiveStartEnd:Ce,monthYearSelect:$e,handleScroll:se,handleArrow:Ee,handleSwipe:Ke,getMarker:ve,selectCurrentDate:m,isHoverDateStartEnd:Z,isHoverDate:te,presetDateRange:Re}=ea(l,a,q,y),Ve=De(n,"calendar"),Mt=De(n,"action"),St=De(n,"timePicker"),Fe=De(n,"monthYear"),o=e.computed(()=>l.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),C=e.computed(()=>rl(l.yearRange)),B=e.computed(()=>ol(l.locale,l.monthNameFormat)),Q=()=>{const f=le(d);f&&(N.value=f.getBoundingClientRect().width)},ce=e.computed(()=>f=>nl(u.value(f),i.value(f),+l.weekStart,l.hideOffsetDates)),Ne=e.computed(()=>l.multiCalendars>0&&l.range?[...Array(l.multiCalendars).keys()]:[0]),ue=e.computed(()=>f=>f===1),_e=e.computed(()=>l.monthPicker||l.timePicker||l.yearPicker),Me=e.computed(()=>({dp__flex_display:l.multiCalendars>0})),fa=e.computed(()=>({dp__instance_calendar:l.multiCalendars>0})),pa=e.computed(()=>({dp__menu_disabled:l.disabled,dp__menu_readonly:l.readonly})),ya=e.computed(()=>f=>wa(ce,f)),ha=e.computed(()=>({locale:l.locale,weekNumName:l.weekNumName,weekStart:l.weekStart,weekNumbers:l.weekNumbers,customProps:l.customProps,calendarClassName:l.calendarClassName,specificMode:_e.value,getWeekNum:w,multiCalendars:l.multiCalendars,modeHeight:l.modeHeight,internalModelValue:l.internalModelValue,noSwipe:l.noSwipe,vertical:l.vertical,dayNames:l.dayNames,monthChangeOnScroll:l.monthChangeOnScroll})),ga=e.computed(()=>({dp__menu:!0,dp__menu_index:!l.inline,dp__relative:l.inline,[l.menuClassName]:!!l.menuClassName})),ka=()=>l.modelAuto&&Array.isArray(l.internalModelValue)?!!l.internalModelValue[0]:!1,He=()=>l.modelAuto?Ft(l.internalModelValue):!0,wa=(f,K)=>f.value(K).map(I=>({...I,days:I.days.map(j=>{const G=E(j.value),ze=te(G,j),Pe=l.range?l.modelAuto?ka()&&F(j):!1:F(j),ln=l.highlight?It(j.value,l.highlight):!1,an=l.highlightWeekDays&&l.highlightWeekDays.includes(j.value.getDay()),rn=(l.range||l.weekPicker)&&(l.multiCalendars>0?j.current:!0)&&!G&&He()&&!(!j.current&&l.hideOffsetDates)&&!F(j)?he(j):!1;return j.marker=ve(j),j.classData={dp__cell_offset:!j.current,dp__pointer:!G&&!(!j.current&&l.hideOffsetDates),dp__active_date:Pe,dp__date_hover:ze,dp__date_hover_start:Z(ze,j,!0),dp__date_hover_end:Z(ze,j,!1),dp__range_between:rn&&!l.weekPicker,dp__range_between_week:rn&&l.weekPicker,dp__today:!l.noToday&&x(j.value,M.value)&&j.current,dp__cell_disabled:G,dp__cell_auto_range:de(j),dp__cell_auto_range_start:ye(j),dp__cell_auto_range_end:A(j),dp__range_start:l.multiCalendars>0?j.current&&Ce(j)&&He():Ce(j)&&He(),dp__range_end:l.multiCalendars>0?j.current&&Ce(j,!1)&&He():Ce(j,!1)&&He(),[l.calendarCellClassName]:!!l.calendarCellClassName,dp__cell_highlight:(ln||an)&&!Pe,dp__cell_highlight_active:(ln||an)&&Pe},j})})),ba=f=>{f.stopPropagation(),f.preventDefault(),f.stopImmediatePropagation()},Ca=()=>{l.escClose&&a("closePicker")},Ma=(f,K=!1)=>{J(f,K),l.spaceConfirm&&a("selectDate")},Bt=f=>{var K;(K=l.flow)!=null&&K.length&&(p[f]=!0,Object.keys(p).filter(I=>!p[I]).length||nn())},nn=()=>{l.flow[_.value]==="month"&&h.value[0]&&h.value[0].toggleMonthPicker(!0),l.flow[_.value]==="year"&&h.value&&h.value[0].toggleYearPicker(!0),l.flow[_.value]==="calendar"&&k.value&&k.value.toggleTimePicker(!1,!0),l.flow[_.value]==="time"&&k.value&&k.value.toggleTimePicker(!0,!0);const f=l.flow[_.value];(f==="hours"||f==="minutes"||f==="seconds")&&k.value&&k.value.toggleTimePicker(!0,!0,f)},xe=f=>{if($!=null&&$.value){if(f==="up")return Y();if(f==="down")return D();if(f==="left")return z();if(f==="right")return R()}else f==="left"||f==="up"?Ee("left",0,f==="up"):Ee("right",0,f==="down")},Sa=f=>{r(f.shiftKey),!l.disableMonthYearSelect&&f.code==="Tab"&&f.target.classList.contains("dp__menu")&&c().shiftKeyInMenu&&(f.preventDefault(),f.stopImmediatePropagation(),a("closePicker"))};return(f,K)=>(e.openBlock(),e.createBlock(e.Transition,{appear:"",name:e.unref(T).menuAppear,mode:"out-in",css:!!e.unref(T)},{default:e.withCtx(()=>[e.createElementVNode("div",{id:f.uid?`dp-menu-${f.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:b,role:"dialog","aria-label":e.unref(v).menu,class:e.normalizeClass(e.unref(ga)),onMouseleave:K[12]||(K[12]=(...I)=>e.unref(be)&&e.unref(be)(...I)),onClick:ba,onKeydown:[e.withKeys(Ca,["esc"]),K[13]||(K[13]=e.withKeys(e.withModifiers(I=>xe("left"),["prevent"]),["left"])),K[14]||(K[14]=e.withKeys(e.withModifiers(I=>xe("up"),["prevent"]),["up"])),K[15]||(K[15]=e.withKeys(e.withModifiers(I=>xe("down"),["prevent"]),["down"])),K[16]||(K[16]=e.withKeys(e.withModifiers(I=>xe("right"),["prevent"]),["right"])),Sa]},[(f.disabled||f.readonly)&&f.inline?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(pa))},null,2)):e.createCommentVNode("",!0),!f.inline&&!f.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(e.unref(o))},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(f.presetRanges.length?"dp__menu_content_wrapper":null)},[f.presetRanges.length?(e.openBlock(),e.createElementBlock("div",na,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(f.presetRanges,(I,j)=>(e.openBlock(),e.createElementBlock("div",{key:j,style:e.normalizeStyle(I.style||{}),class:"dp__preset_range",onClick:G=>e.unref(Re)(I.range)},e.toDisplayString(I.label),13,la))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:d,role:"document"},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(Me))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(Ne),(I,j)=>(e.openBlock(),e.createElementBlock("div",{key:I,class:e.normalizeClass(e.unref(fa))},[!f.disableMonthYearSelect&&!f.timePicker?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(f.monthYearComponent?f.monthYearComponent:Kl),e.mergeProps({key:0,ref_for:!0,ref:G=>{G&&(h.value[j]=G)}},{months:e.unref(B),years:e.unref(C),filters:f.filters,monthPicker:f.monthPicker,month:e.unref(u)(I),year:e.unref(i)(I),customProps:f.customProps,multiCalendars:t.multiCalendars,multiCalendarsSolo:f.multiCalendarsSolo,instance:I,minDate:f.minDate,maxDate:f.maxDate,preventMinMaxNavigation:f.preventMinMaxNavigation,internalModelValue:t.internalModelValue,range:f.range,reverseYears:f.reverseYears,vertical:f.vertical,yearPicker:f.yearPicker},{onMount:K[0]||(K[0]=G=>Bt("monthYearInput")),onResetFlow:U,onUpdateMonthYear:G=>e.unref(S)(I,G),onMonthYearSelect:e.unref($e),onOverlayClosed:L}),e.createSlots({_:2},[e.renderList(e.unref(Fe),(G,ze)=>({name:G,fn:e.withCtx(Pe=>[e.renderSlot(f.$slots,G,e.normalizeProps(e.guardReactiveProps(Pe)))])}))]),1040,["onUpdateMonthYear","onMonthYearSelect"])):e.createCommentVNode("",!0),e.createVNode($l,e.mergeProps({ref_for:!0,ref:G=>{G&&(y.value[j]=G)}},e.unref(ha),{"flow-step":_.value,"onUpdate:flow-step":K[1]||(K[1]=G=>_.value=G),instance:I,"mapped-dates":e.unref(ya)(I),month:e.unref(u)(I),year:e.unref(i)(I),onSelectDate:G=>e.unref(J)(G,!e.unref(ue)(I)),onHandleSpace:G=>Ma(G,!e.unref(ue)(I)),onSetHoverDate:K[2]||(K[2]=G=>e.unref(P)(G)),onHandleScroll:G=>e.unref(se)(G,I),onHandleSwipe:G=>e.unref(Ke)(G,I),onMount:K[3]||(K[3]=G=>Bt("calendar")),onResetFlow:U}),e.createSlots({_:2},[e.renderList(e.unref(Ve),(G,ze)=>({name:G,fn:e.withCtx(Pe=>[e.renderSlot(f.$slots,G,e.normalizeProps(e.guardReactiveProps({...Pe})))])}))]),1040,["flow-step","instance","mapped-dates","month","year","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),e.createElementVNode("div",null,[f.enableTimePicker&&!f.monthPicker&&!f.weekPicker?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(f.timePickerComponent?f.timePickerComponent:xl),e.mergeProps({key:0,ref_key:"timePickerRef",ref:k},{is24:f.is24,hoursIncrement:f.hoursIncrement,minutesIncrement:f.minutesIncrement,hoursGridIncrement:f.hoursGridIncrement,secondsIncrement:f.secondsIncrement,minutesGridIncrement:f.minutesGridIncrement,secondsGridIncrement:f.secondsGridIncrement,noHoursOverlay:f.noHoursOverlay,noMinutesOverlay:f.noMinutesOverlay,noSecondsOverlay:f.noSecondsOverlay,range:f.range,filters:f.filters,timePicker:f.timePicker,hours:e.unref(g),minutes:e.unref(O),seconds:e.unref(W),customProps:f.customProps,enableSeconds:f.enableSeconds,fixedStart:f.fixedStart,fixedEnd:f.fixedEnd,modelAuto:f.modelAuto,internalModelValue:t.internalModelValue},{onMount:K[4]||(K[4]=I=>Bt("timePicker")),"onUpdate:hours":K[5]||(K[5]=I=>e.unref(H)(I)),"onUpdate:minutes":K[6]||(K[6]=I=>e.unref(H)(I,!1)),"onUpdate:seconds":K[7]||(K[7]=I=>e.unref(H)(I,!1,!0)),onResetFlow:U,onOverlayClosed:L}),e.createSlots({_:2},[e.renderList(e.unref(St),(I,j)=>({name:I,fn:e.withCtx(G=>[e.renderSlot(f.$slots,I,e.normalizeProps(e.guardReactiveProps(G)))])}))]),1040)):e.createCommentVNode("",!0)])],512),f.showNowButton?(e.openBlock(),e.createElementBlock("div",aa,[f.$slots["now-button"]?e.renderSlot(f.$slots,"now-button",{key:0,selectCurrentDate:e.unref(m)}):e.createCommentVNode("",!0),f.$slots["now-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",role:"button",class:"dp__now_button",onClick:K[8]||(K[8]=(...I)=>e.unref(m)&&e.unref(m)(...I))},e.toDisplayString(f.nowButtonLabel),1))])):e.createCommentVNode("",!0)],2),!f.autoApply||f.keepActionRow?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(f.actionRowComponent?f.actionRowComponent:hl),e.mergeProps({key:2},{calendarWidth:N.value,selectText:f.selectText,cancelText:f.cancelText,internalModelValue:t.internalModelValue,range:f.range,previewFormat:f.previewFormat,inline:f.inline,monthPicker:f.monthPicker,timePicker:f.timePicker,customProps:f.customProps,multiCalendars:t.multiCalendars,menuMount:V.value,maxTime:f.maxTime,minTime:f.minTime,enableTimePicker:f.enableTimePicker,minDate:f.minDate,maxDate:f.maxDate,multiDates:f.multiDates,modelAuto:f.modelAuto,partialRange:f.partialRange,ignoreTimeValidation:f.ignoreTimeValidation},{onClosePicker:K[9]||(K[9]=I=>f.$emit("closePicker")),onSelectDate:K[10]||(K[10]=I=>f.$emit("selectDate")),onInvalidSelect:K[11]||(K[11]=I=>f.$emit("invalid-select"))}),e.createSlots({_:2},[e.renderList(e.unref(Mt),(I,j)=>({name:I,fn:e.withCtx(G=>[e.renderSlot(f.$slots,I,e.normalizeProps(e.guardReactiveProps({...G})))])}))]),1040)):e.createCommentVNode("",!0)],42,ta)]),_:3},8,["name","css"]))}}),oa=(t,a,l,n,d,p,h,y,k,b,N,V,_,T,v,$,X)=>{const r=e.ref(""),c=e.ref();e.watch(c,()=>{X("internalModelChange",c.value)});const R=u=>[q(u[0]),u[1]?q(u[1]):null],z=u=>{let i=null;u?a?Jn(u)&&"hours"in u[0]&&"minutes"in u[0]?i=[ie(null,+u[0].hours,+u[0].minutes,+u[0].seconds),ie(null,+u[1].hours,+u[1].minutes,+u[1].seconds)]:qn(u)&&(i=ie(null,+u.hours,+u.minutes,+u.seconds)):l?Zn(u)&&"month"in u[0]&&"year"in u[0]?(i=[Be(null,+u[0].month,+u[0].year)],u[1]?i[1]=Be(null,+u[1].month,+u[1].year):!u[1]&&d&&(i[1]=null)):Qn(u)&&"month"in u&&"year"in u&&(i=Be(null,+u.month,+u.year)):_?Array.isArray(u)?i=[s.setYear(new Date,u[0]),!u[1]&&d?null:s.setYear(new Date,u[1])]:i=s.setYear(new Date,u):b&&Array.isArray(u)?i=u.map(g=>q(g)):V&&Array.isArray(u)?i=[new Date(u[0]),new Date(u[1])]:n?$?Array.isArray(u)?i=R(u):i=[q(u),null]:Fn(u,d)&&(i=R(u)):el(u)&&(i=q(u)):i=null,tt(i)?(c.value=i,Y()):(c.value=null,r.value="")},D=()=>Et(t,p,y,l,a,V,_,h),Y=()=>{if(!c.value)r.value="";else if(!t||typeof t=="string"){const u=D();Array.isArray(c.value)&&b?r.value=c.value.map(i=>Ae(i,u,k==null?void 0:k.value)).join("; "):r.value=Ae(c.value,u,k==null?void 0:k.value,T==null?void 0:T.rangeSeparator,$)}else a?r.value=t(lt(c.value)):l?r.value=t(Rt(c.value)):r.value=t(c.value)},L=()=>c.value?n?d?c.value.length>=1:c.value.length===2:!!c.value:!1,q=u=>{if(N){const i=new Date(u);return N==="preserve"?new Date(i.getTime()+i.getTimezoneOffset()*6e4):i}return v?v==="date"||v==="timestamp"?new Date(u):v==="format"&&(typeof t=="string"||!t)?s.parse(u,D(),new Date):s.parse(u,v,new Date):new Date(u)},U=u=>v?v==="timestamp"?+u:v==="format"&&(typeof t=="string"||!t)?Ae(u,D(),k==null?void 0:k.value,T==null?void 0:T.rangeSeparator):Ae(u,v,k==null?void 0:k.value,T==null?void 0:T.rangeSeparator):u,H=u=>{X("update:modelValue",u)},S=()=>[U(c.value[0]),c.value[1]?U(c.value[1]):null];return{parseExternalModelValue:z,formatInputValue:Y,internalModelValue:c,inputValue:r,emitModelValue:()=>{if(l)H(Rt(c.value));else if(a)H(lt(c.value));else if(V)H(c.value);else if(_)H(Array.isArray(c.value)?[s.getYear(c.value[0]),c.value[1]?s.getYear(c.value[1]):null]:s.getYear(c.value));else{if(c.value&&n&&d&&c.value.length===1&&c.value.push(null),N){let u;if(Array.isArray(c.value)){const i=g=>g&&st(g,N==="preserve");$?u=c.value[1]?c.value.map(i):st(c.value[0],N==="preserve"):u=c.value.map(i)}else u=st(c.value,N==="preserve");return H(u)}Array.isArray(c.value)&&!b?H($?c.value[1]?S():U(c.value[0]):S()):Array.isArray(c.value)&&b?H(c.value.map(u=>U(u))):H(U(c.value))}Y()},checkBeforeEmit:L}},sa=(t,a,l,n,d,p,h,y,k)=>{const b=e.ref({top:"0",left:"0",transform:"none"}),N=e.ref(!1),V=390,_=D=>{const Y=D.getBoundingClientRect();return{left:Y.left+window.scrollX,top:Y.top+window.scrollY}},T=D=>{const Y=D.getBoundingClientRect();let L=0,q=0;for(;D&&!isNaN(D.offsetLeft)&&!isNaN(D.offsetTop);)L+=D.offsetLeft-D.scrollLeft,q=Y.top+D.scrollTop,D=D.offsetParent;return{top:q,left:L}},v=(D,Y)=>{b.value.left=`${D+Y}px`,b.value.transform="translateX(-100%)"},$=D=>{b.value.left=`${D}px`,b.value.transform="translateX(0)"},X=(D,Y)=>{t===Qe.left&&$(D),t===Qe.right&&v(D,Y),t===Qe.center&&(b.value.left=`${D+Y/2}px`,b.value.transform="translateX(-50%)")},r=()=>{const D=le(d);if(D){const Y=window.innerHeight,{top:L}=a?T(D):_(D),{left:q,width:U,top:H,height:S}=D.getBoundingClientRect(),M=Y-H-S;b.value.top=H>M?`${L-V}px`:`${L}px`,X(q,U)}},c=()=>{b.value.left="50%",b.value.top="50%",b.value.transform="translate(-50%, -50%)",b.value.position="fixed"},R=(D=!0)=>{if(!p){if(y.value)return c();const Y=le(d);if(a&&typeof a!="boolean")b.value=a(Y);else if(Y){const{left:L,width:q,height:U}=Y.getBoundingClientRect(),{top:H}=a?T(Y):_(Y);b.value.top=`${U+H+ +h}px`,X(L,q),D&&l&&z()}}},z=()=>{const D=le(d);if(D&&l&&!p){const{height:Y,top:L,left:q,width:U}=D.getBoundingClientRect(),{top:H}=a?T(D):_(D),M=window.innerHeight-L-Y,u=le(n);if(u){const{height:i,left:g,right:O}=u.getBoundingClientRect(),W=i+Y;W>L&&W>M?L<M?(R(!1),N.value=!1):(b.value.top=`${H-i-+h}px`,N.value=!0):W>M?(b.value.top=`${H-i-+h}px`,N.value=!0):(R(!1),N.value=!1),g<0?$(q):O>document.documentElement.clientWidth&&v(q,U)}}k("recalculatePosition")};return{openOnTop:N,menuPosition:b,setMenuPosition:R,setInitialPosition:r,recalculatePosition:z}},ia=typeof window<"u"?window:void 0,bt=()=>{},ca=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,ua=(t,a,l,n)=>{if(!t)return bt;let d=bt;const p=e.watch(()=>e.unref(t),y=>{d(),y&&(y.addEventListener(a,l,n),d=()=>{y.removeEventListener(a,l,n),d=bt})},{immediate:!0,flush:"post"}),h=()=>{p(),d()};return ca(h),h},da=(t,a,l,n={})=>{const{window:d=ia,event:p="pointerdown"}=n;return d?ua(d,p,y=>{const k=le(t),b=le(a);!k||!b||k===y.target||y.composedPath().includes(k)||y.composedPath().includes(b)||l(y)},{passive:!0}):void 0},ma=e.defineComponent({__name:"VueDatePicker",props:{...zn},emits:["update:modelValue","textSubmit","closed","cleared","open","focus","blur","internalModelChange","recalculatePosition","flow-step","updateMonthYear","invalid-select"],setup(t,{expose:a,emit:l}){const n=t,d=e.useSlots(),p=e.ref(!1),h=e.toRef(n,"modelValue"),y=e.ref(null),k=e.ref(null),b=e.toRef(n,"teleportCenter");e.provide(it,n.autoApply);const N=e.computed(()=>n.formatLocale);e.provide(vt,N),e.provide(Kt,e.toRef(n,"textInput")),e.provide(ke,e.toRef(n,"arrowNavigation")),e.onMounted(()=>{z(n.modelValue),n.inline||(window.addEventListener("scroll",w),window.addEventListener("resize",P)),n.inline&&(p.value=!0)}),e.onUnmounted(()=>{n.inline||(window.removeEventListener("scroll",w),window.removeEventListener("resize",P))});const V=De(d,"all"),_=De(d,"input");e.watch(h,()=>{z(h.value)},{deep:!0});const{openOnTop:T,menuPosition:v,setMenuPosition:$,recalculatePosition:X,setInitialPosition:r}=sa(n.position,n.altPosition,n.autoPosition,y,k,n.inline,n.offset,b,l),{internalModelValue:c,inputValue:R,parseExternalModelValue:z,emitModelValue:D,checkBeforeEmit:Y,formatInputValue:L}=oa(n.format,n.timePicker,n.monthPicker,n.range,n.partialRange,n.is24,n.enableTimePicker,n.enableSeconds,N,n.multiDates,n.utc,n.weekPicker,n.yearPicker,n.textInputOptions,n.modelType,n.modelAuto,l),{clearArrowNav:q}=we(),{setMenuFocused:U,setShiftKey:H}=tn(),S=e.computed(()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:n.inline,dp__flex_display_with_input:n.inlineWithInput})),M=e.computed(()=>Zt(n.format)?n.format:Et(null,n.is24,n.enableSeconds,n.monthPicker,n.timePicker,n.weekPicker,n.yearPicker,n.enableTimePicker)),u=e.computed(()=>n.previewFormat?n.previewFormat:Zt(M.value)?M.value:n.format),i=e.computed(()=>typeof n.transitions=="boolean"?n.transitions?Qt({}):!1:Qt(n.transitions));e.provide(Ue,i);const g=e.computed(()=>n.dark?"dp__theme_dark":"dp__theme_light"),O=e.computed(()=>Object.assign(il(),n.textInputOptions)),W=e.computed(()=>ml(n.ariaLabels));e.provide(ge,W);const E=e.computed(()=>cl(n.filters)),F=e.computed(()=>{const m=Z=>{const te={hours:s.getHours(new Date),minutes:s.getMinutes(new Date),seconds:s.getSeconds(new Date)};return Object.assign(te,Z)};return n.range?n.startTime&&Array.isArray(n.startTime)?[m(n.startTime[0]),m(n.startTime[1])]:null:n.startTime&&!Array.isArray(n.startTime)?m(n.startTime):null}),J=e.computed(()=>n.multiCalendars===null?0:typeof n.multiCalendars=="boolean"?n.multiCalendars?2:0:+n.multiCalendars>=2?+n.multiCalendars:2),w=()=>{p.value&&(n.closeOnScroll?se():n.autoPosition?$():window.removeEventListener("scroll",w))},P=()=>{p.value&&$()},A=()=>{!n.disabled&&!n.readonly&&(r(),p.value=!0,e.nextTick().then(()=>{$(),p.value&&l("open")}),p.value||$e(),z(n.modelValue))},de=()=>{R.value="",$e(),l("update:modelValue",null),l("cleared"),se()},ye=()=>{const{validate:m}=Yt(n.minDate,n.maxDate,n.disabledDates,n.allowedDates,E.value,n.disabledWeekDays,n.yearRange),Z=c.value;return!Z||!Array.isArray(Z)&&m(Z)?!0:Array.isArray(Z)?Z.length===2&&m(Z[0])&&m(Z[1])?!0:!!m(Z[0]):!1},he=()=>{Y()&&ye()?(D(),se()):l("invalid-select",c.value)},be=m=>{D(),n.closeOnAutoApply&&!m&&se()},Ce=(m=!1)=>{n.autoApply&&(!n.enableTimePicker||n.monthPicker||n.yearPicker||n.ignoreTimeValidation?!0:ot(c.value,n.maxTime,n.minTime,n.maxDate,n.minDate))&&ye()&&(n.range&&Array.isArray(c.value)?(n.partialRange||c.value.length===2)&&be(m):be(m))},$e=()=>{c.value=null},se=()=>{n.inline||(p.value&&(p.value=!1,U(!1),H(!1),q(),l("closed"),r(),R.value&&z(h.value)),$e(),k.value&&k.value.focusInput())},Ee=(m,Z)=>{if(!m){c.value=null;return}c.value=m,Z&&(he(),l("textSubmit"))},Ke=()=>{n.autoApply&&ot(c.value,n.maxTime,n.minTime,n.maxDate,n.minDate)&&D()},ve=()=>p.value?se():A();return da(y,k,se),a({closeMenu:se,selectDate:he,clearValue:de,openMenu:A,onScroll:w,formatInputValue:L}),(m,Z)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(S))},[e.createVNode(Xn,e.mergeProps({ref_key:"inputRef",ref:k},{placeholder:m.placeholder,hideInputIcon:m.hideInputIcon,readonly:m.readonly,disabled:m.disabled,inputClassName:m.inputClassName,clearable:m.clearable,state:m.state,inline:m.inline,inlineWithInput:m.inlineWithInput,textInput:m.textInput,textInputOptions:e.unref(O),range:m.range,isMenuOpen:p.value,pattern:e.unref(M),autoApply:m.autoApply,uid:m.uid,required:m.required,name:m.name,autocomplete:m.autocomplete},{"input-value":e.unref(R),"onUpdate:input-value":Z[0]||(Z[0]=te=>e.isRef(R)?R.value=te:null),onClear:de,onOpen:A,onSetInputDate:Ee,onSetEmptyDate:e.unref(D),onSelectDate:he,onToggle:ve,onClose:se,onFocus:Z[1]||(Z[1]=te=>m.$emit("focus")),onBlur:Z[2]||(Z[2]=te=>m.$emit("blur"))}),e.createSlots({_:2},[e.renderList(e.unref(_),(te,Re)=>({name:te,fn:e.withCtx(Ve=>[e.renderSlot(m.$slots,te,e.normalizeProps(e.guardReactiveProps(Ve)))])}))]),1040,["input-value","onSetEmptyDate"]),p.value?(e.openBlock(),e.createBlock(e.Teleport,{key:0,to:m.teleport,disabled:m.inline},[p.value?(e.openBlock(),e.createBlock(ra,e.mergeProps({key:0,ref_key:"dpMenuRef",ref:y,class:e.unref(g),style:e.unref(v)},{weekNumbers:m.weekNumbers,weekStart:m.weekStart,disableMonthYearSelect:m.disableMonthYearSelect,menuClassName:m.menuClassName,calendarClassName:m.calendarClassName,yearRange:m.yearRange,range:m.range,multiCalendars:e.unref(J),multiCalendarsSolo:m.multiCalendarsSolo,multiStatic:m.multiStatic,calendarCellClassName:m.calendarCellClassName,enableTimePicker:m.enableTimePicker,is24:m.is24,hoursIncrement:m.hoursIncrement,minutesIncrement:m.minutesIncrement,hoursGridIncrement:m.hoursGridIncrement,minutesGridIncrement:m.minutesGridIncrement,minDate:m.minDate,maxDate:m.maxDate,autoApply:m.autoApply,selectText:m.selectText,cancelText:m.cancelText,previewFormat:e.unref(u),locale:m.locale,weekNumName:m.weekNumName,disabledDates:m.disabledDates,filters:e.unref(E),minTime:m.minTime,maxTime:m.maxTime,inline:m.inline,openOnTop:e.unref(T),monthPicker:m.monthPicker,timePicker:m.timePicker,monthNameFormat:m.monthNameFormat,startDate:m.startDate,startTime:e.unref(F),monthYearComponent:m.monthYearComponent,timePickerComponent:m.timePickerComponent,actionRowComponent:m.actionRowComponent,customProps:m.customProps,hideOffsetDates:m.hideOffsetDates,autoRange:m.autoRange,noToday:m.noToday,noHoursOverlay:m.noHoursOverlay,noMinutesOverlay:m.noMinutesOverlay,disabledWeekDays:m.disabledWeekDays,allowedDates:m.allowedDates,showNowButton:m.showNowButton,nowButtonLabel:m.nowButtonLabel,monthChangeOnScroll:m.monthChangeOnScroll,markers:m.markers,uid:m.uid,modeHeight:m.modeHeight,enableSeconds:m.enableSeconds,secondsIncrement:m.secondsIncrement,secondsGridIncrement:m.secondsGridIncrement,noSecondsOverlay:m.noSecondsOverlay,escClose:m.escClose,spaceConfirm:m.spaceConfirm,monthChangeOnArrows:m.monthChangeOnArrows,textInput:m.textInput,disabled:m.disabled,readonly:m.readonly,multiDates:m.multiDates,presetRanges:m.presetRanges,flow:m.flow,preventMinMaxNavigation:m.preventMinMaxNavigation,minRange:m.minRange,maxRange:m.maxRange,fixedStart:m.fixedStart,fixedEnd:m.fixedEnd,multiDatesLimit:m.multiDatesLimit,reverseYears:m.reverseYears,keepActionRow:m.keepActionRow,weekPicker:m.weekPicker,noSwipe:m.noSwipe,vertical:m.vertical,arrowNavigation:m.arrowNavigation,yearPicker:m.yearPicker,disableTimeRangeValidation:m.disableTimeRangeValidation,dayNames:m.dayNames,modelAuto:m.modelAuto,highlight:m.highlight,highlightWeekDays:m.highlightWeekDays,partialRange:m.partialRange,teleportCenter:m.teleportCenter,ignoreTimeValidation:m.ignoreTimeValidation},{internalModelValue:e.unref(c),"onUpdate:internalModelValue":Z[3]||(Z[3]=te=>e.isRef(c)?c.value=te:null),onClosePicker:se,onSelectDate:he,onDpOpen:e.unref(X),onAutoApply:Ce,onTimeUpdate:Ke,onFlowStep:Z[4]||(Z[4]=te=>m.$emit("flow-step",te)),onUpdateMonthYear:Z[5]||(Z[5]=te=>m.$emit("updateMonthYear",te)),onInvalidSelect:Z[6]||(Z[6]=te=>m.$emit("invalid-select",e.unref(c)))}),e.createSlots({_:2},[e.renderList(e.unref(V),(te,Re)=>({name:te,fn:e.withCtx(Ve=>[e.renderSlot(m.$slots,te,e.normalizeProps(e.guardReactiveProps({...Ve})))])}))]),1040,["class","style","internalModelValue","onDpOpen"])):e.createCommentVNode("",!0)],8,["to","disabled"])):e.createCommentVNode("",!0)],2))}}),Ct=(()=>{const t=ma;return t.install=a=>{a.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:Ct},Symbol.toStringTag,{value:"Module"}))).forEach(([t,a])=>{t!=="default"&&(Ct[t]=a)}),Ct});
